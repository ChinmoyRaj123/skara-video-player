require("./index.css");
var $8zHUo$hlsjs = require("hls.js");

function $parcel$interopDefault(a) {
  return a && a.__esModule ? a.default : a;
}
function $parcel$defineInteropFlag(a) {
  Object.defineProperty(a, '__esModule', {value: true, configurable: true});
}
function $parcel$export(e, n, v, s) {
  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});
}

$parcel$defineInteropFlag(module.exports);

$parcel$export(module.exports, "default", () => $882b6d93070905b3$export$2e2bcd8739ae039);
var $ca9df0d41c4591c9$exports = {};

$parcel$export($ca9df0d41c4591c9$exports, "activeIconWrapper", () => $ca9df0d41c4591c9$export$54384a8b841c9096, (v) => $ca9df0d41c4591c9$export$54384a8b841c9096 = v);
$parcel$export($ca9df0d41c4591c9$exports, "controls", () => $ca9df0d41c4591c9$export$cc1adf6fb659c762, (v) => $ca9df0d41c4591c9$export$cc1adf6fb659c762 = v);
$parcel$export($ca9df0d41c4591c9$exports, "hide", () => $ca9df0d41c4591c9$export$fe8985bb6374093c, (v) => $ca9df0d41c4591c9$export$fe8985bb6374093c = v);
$parcel$export($ca9df0d41c4591c9$exports, "centerButton", () => $ca9df0d41c4591c9$export$a2b3dd87d3e471be, (v) => $ca9df0d41c4591c9$export$a2b3dd87d3e471be = v);
$parcel$export($ca9df0d41c4591c9$exports, "watchTimer", () => $ca9df0d41c4591c9$export$5321aef497dbc95, (v) => $ca9df0d41c4591c9$export$5321aef497dbc95 = v);
$parcel$export($ca9df0d41c4591c9$exports, "osdActive", () => $ca9df0d41c4591c9$export$26238087290c1f5b, (v) => $ca9df0d41c4591c9$export$26238087290c1f5b = v);
$parcel$export($ca9df0d41c4591c9$exports, "prgsBar", () => $ca9df0d41c4591c9$export$e475d70d0abfaf0c, (v) => $ca9df0d41c4591c9$export$e475d70d0abfaf0c = v);
$parcel$export($ca9df0d41c4591c9$exports, "active", () => $ca9df0d41c4591c9$export$89da14300d534261, (v) => $ca9df0d41c4591c9$export$89da14300d534261 = v);
$parcel$export($ca9df0d41c4591c9$exports, "backArrowMainDiv", () => $ca9df0d41c4591c9$export$d86087c43b3ca0df, (v) => $ca9df0d41c4591c9$export$d86087c43b3ca0df = v);
$parcel$export($ca9df0d41c4591c9$exports, "spinner", () => $ca9df0d41c4591c9$export$641374ffb95bc399, (v) => $ca9df0d41c4591c9$export$641374ffb95bc399 = v);
$parcel$export($ca9df0d41c4591c9$exports, "iconSmall", () => $ca9df0d41c4591c9$export$934587b1a6f00472, (v) => $ca9df0d41c4591c9$export$934587b1a6f00472 = v);
$parcel$export($ca9df0d41c4591c9$exports, "sliderProgress", () => $ca9df0d41c4591c9$export$44601925ebb63135, (v) => $ca9df0d41c4591c9$export$44601925ebb63135 = v);
$parcel$export($ca9df0d41c4591c9$exports, "spinn", () => $ca9df0d41c4591c9$export$b082c0b7a6cd56b2, (v) => $ca9df0d41c4591c9$export$b082c0b7a6cd56b2 = v);
$parcel$export($ca9df0d41c4591c9$exports, "rotate", () => $ca9df0d41c4591c9$export$bb628a54ab399bc9, (v) => $ca9df0d41c4591c9$export$bb628a54ab399bc9 = v);
$parcel$export($ca9df0d41c4591c9$exports, "ctrlContainer", () => $ca9df0d41c4591c9$export$77806bb1d74cd6f6, (v) => $ca9df0d41c4591c9$export$77806bb1d74cd6f6 = v);
$parcel$export($ca9df0d41c4591c9$exports, "toolBar", () => $ca9df0d41c4591c9$export$ed2652bdb9ef1ad0, (v) => $ca9df0d41c4591c9$export$ed2652bdb9ef1ad0 = v);
$parcel$export($ca9df0d41c4591c9$exports, "volSlider", () => $ca9df0d41c4591c9$export$523cee24344607ef, (v) => $ca9df0d41c4591c9$export$523cee24344607ef = v);
$parcel$export($ca9df0d41c4591c9$exports, "settingPopup", () => $ca9df0d41c4591c9$export$5e53b5cc6c2ef6ac, (v) => $ca9df0d41c4591c9$export$5e53b5cc6c2ef6ac = v);
$parcel$export($ca9df0d41c4591c9$exports, "centerButtonImage", () => $ca9df0d41c4591c9$export$502df2ec96816c8c, (v) => $ca9df0d41c4591c9$export$502df2ec96816c8c = v);
$parcel$export($ca9df0d41c4591c9$exports, "root", () => $ca9df0d41c4591c9$export$e8e78c978b129247, (v) => $ca9df0d41c4591c9$export$e8e78c978b129247 = v);
$parcel$export($ca9df0d41c4591c9$exports, "sliderWrapper", () => $ca9df0d41c4591c9$export$b99e7c702abdb77a, (v) => $ca9df0d41c4591c9$export$b99e7c702abdb77a = v);
$parcel$export($ca9df0d41c4591c9$exports, "settingItem", () => $ca9df0d41c4591c9$export$d9d30bff7354568a, (v) => $ca9df0d41c4591c9$export$d9d30bff7354568a = v);
$parcel$export($ca9df0d41c4591c9$exports, "title", () => $ca9df0d41c4591c9$export$fb184b623420d9be, (v) => $ca9df0d41c4591c9$export$fb184b623420d9be = v);
$parcel$export($ca9df0d41c4591c9$exports, "fullScrMainDiv", () => $ca9df0d41c4591c9$export$f2732ff72bedcaa4, (v) => $ca9df0d41c4591c9$export$f2732ff72bedcaa4 = v);
$parcel$export($ca9df0d41c4591c9$exports, "iconmd", () => $ca9df0d41c4591c9$export$ea551f4aac394d83, (v) => $ca9df0d41c4591c9$export$ea551f4aac394d83 = v);
$parcel$export($ca9df0d41c4591c9$exports, "prgsContainer", () => $ca9df0d41c4591c9$export$22702ef448665b4d, (v) => $ca9df0d41c4591c9$export$22702ef448665b4d = v);
$parcel$export($ca9df0d41c4591c9$exports, "osdBar", () => $ca9df0d41c4591c9$export$a1b4384913d28591, (v) => $ca9df0d41c4591c9$export$a1b4384913d28591 = v);
$parcel$export($ca9df0d41c4591c9$exports, "seekTimeTooltip", () => $ca9df0d41c4591c9$export$b0904f355cb5d789, (v) => $ca9df0d41c4591c9$export$b0904f355cb5d789 = v);
$parcel$export($ca9df0d41c4591c9$exports, "innerOsd", () => $ca9df0d41c4591c9$export$5bbce59cbad6e3b7, (v) => $ca9df0d41c4591c9$export$5bbce59cbad6e3b7 = v);
$parcel$export($ca9df0d41c4591c9$exports, "scrubber", () => $ca9df0d41c4591c9$export$e2b69c907b9ef440, (v) => $ca9df0d41c4591c9$export$e2b69c907b9ef440 = v);
$parcel$export($ca9df0d41c4591c9$exports, "prgsContainerWrapper", () => $ca9df0d41c4591c9$export$49ee957901f7a027, (v) => $ca9df0d41c4591c9$export$49ee957901f7a027 = v);
$parcel$export($ca9df0d41c4591c9$exports, "listItem", () => $ca9df0d41c4591c9$export$76c7e83ecc9cdf05, (v) => $ca9df0d41c4591c9$export$76c7e83ecc9cdf05 = v);
$parcel$export($ca9df0d41c4591c9$exports, "iconButtonImage", () => $ca9df0d41c4591c9$export$1f490cbad58081d8, (v) => $ca9df0d41c4591c9$export$1f490cbad58081d8 = v);
$parcel$export($ca9df0d41c4591c9$exports, "icon", () => $ca9df0d41c4591c9$export$1ca1ec8b29a4ce27, (v) => $ca9df0d41c4591c9$export$1ca1ec8b29a4ce27 = v);
$parcel$export($ca9df0d41c4591c9$exports, "prgsHover", () => $ca9df0d41c4591c9$export$f38465fe307ff1ea, (v) => $ca9df0d41c4591c9$export$f38465fe307ff1ea = v);
$parcel$export($ca9df0d41c4591c9$exports, "settingWrapper", () => $ca9df0d41c4591c9$export$208d04ce5dd64049, (v) => $ca9df0d41c4591c9$export$208d04ce5dd64049 = v);
$parcel$export($ca9df0d41c4591c9$exports, "centerBtnHide", () => $ca9df0d41c4591c9$export$e9be0fb78d9ff657, (v) => $ca9df0d41c4591c9$export$e9be0fb78d9ff657 = v);
$parcel$export($ca9df0d41c4591c9$exports, "button", () => $ca9df0d41c4591c9$export$2ba01fb71ed41cb6, (v) => $ca9df0d41c4591c9$export$2ba01fb71ed41cb6 = v);
$parcel$export($ca9df0d41c4591c9$exports, "volCtrlWrapper", () => $ca9df0d41c4591c9$export$328af1edb566eae3, (v) => $ca9df0d41c4591c9$export$328af1edb566eae3 = v);
$parcel$export($ca9df0d41c4591c9$exports, "titleMainDiv", () => $ca9df0d41c4591c9$export$939d7654b00a3df9, (v) => $ca9df0d41c4591c9$export$939d7654b00a3df9 = v);
$parcel$export($ca9df0d41c4591c9$exports, "prgsWrapper", () => $ca9df0d41c4591c9$export$2f388bdb5e147bac, (v) => $ca9df0d41c4591c9$export$2f388bdb5e147bac = v);
$parcel$export($ca9df0d41c4591c9$exports, "centerBtnShow", () => $ca9df0d41c4591c9$export$4bc86dd528c758a3, (v) => $ca9df0d41c4591c9$export$4bc86dd528c758a3 = v);
$parcel$export($ca9df0d41c4591c9$exports, "ctrlRight", () => $ca9df0d41c4591c9$export$deaf7926095b512d, (v) => $ca9df0d41c4591c9$export$deaf7926095b512d = v);
$parcel$export($ca9df0d41c4591c9$exports, "indicatorIcon", () => $ca9df0d41c4591c9$export$37c675ad6e14d9ff, (v) => $ca9df0d41c4591c9$export$37c675ad6e14d9ff = v);
$parcel$export($ca9df0d41c4591c9$exports, "video", () => $ca9df0d41c4591c9$export$5f8d3589eb8441ca, (v) => $ca9df0d41c4591c9$export$5f8d3589eb8441ca = v);
$parcel$export($ca9df0d41c4591c9$exports, "ctrlLeft", () => $ca9df0d41c4591c9$export$fb55bfd207eb66bf, (v) => $ca9df0d41c4591c9$export$fb55bfd207eb66bf = v);
var $ca9df0d41c4591c9$export$54384a8b841c9096;
var $ca9df0d41c4591c9$export$cc1adf6fb659c762;
var $ca9df0d41c4591c9$export$fe8985bb6374093c;
var $ca9df0d41c4591c9$export$a2b3dd87d3e471be;
var $ca9df0d41c4591c9$export$5321aef497dbc95;
var $ca9df0d41c4591c9$export$26238087290c1f5b;
var $ca9df0d41c4591c9$export$e475d70d0abfaf0c;
var $ca9df0d41c4591c9$export$89da14300d534261;
var $ca9df0d41c4591c9$export$d86087c43b3ca0df;
var $ca9df0d41c4591c9$export$641374ffb95bc399;
var $ca9df0d41c4591c9$export$934587b1a6f00472;
var $ca9df0d41c4591c9$export$44601925ebb63135;
var $ca9df0d41c4591c9$export$b082c0b7a6cd56b2;
var $ca9df0d41c4591c9$export$bb628a54ab399bc9;
var $ca9df0d41c4591c9$export$77806bb1d74cd6f6;
var $ca9df0d41c4591c9$export$ed2652bdb9ef1ad0;
var $ca9df0d41c4591c9$export$523cee24344607ef;
var $ca9df0d41c4591c9$export$5e53b5cc6c2ef6ac;
var $ca9df0d41c4591c9$export$502df2ec96816c8c;
var $ca9df0d41c4591c9$export$e8e78c978b129247;
var $ca9df0d41c4591c9$export$b99e7c702abdb77a;
var $ca9df0d41c4591c9$export$d9d30bff7354568a;
var $ca9df0d41c4591c9$export$fb184b623420d9be;
var $ca9df0d41c4591c9$export$f2732ff72bedcaa4;
var $ca9df0d41c4591c9$export$ea551f4aac394d83;
var $ca9df0d41c4591c9$export$22702ef448665b4d;
var $ca9df0d41c4591c9$export$a1b4384913d28591;
var $ca9df0d41c4591c9$export$b0904f355cb5d789;
var $ca9df0d41c4591c9$export$5bbce59cbad6e3b7;
var $ca9df0d41c4591c9$export$e2b69c907b9ef440;
var $ca9df0d41c4591c9$export$49ee957901f7a027;
var $ca9df0d41c4591c9$export$76c7e83ecc9cdf05;
var $ca9df0d41c4591c9$export$1f490cbad58081d8;
var $ca9df0d41c4591c9$export$1ca1ec8b29a4ce27;
var $ca9df0d41c4591c9$export$f38465fe307ff1ea;
var $ca9df0d41c4591c9$export$208d04ce5dd64049;
var $ca9df0d41c4591c9$export$e9be0fb78d9ff657;
var $ca9df0d41c4591c9$export$2ba01fb71ed41cb6;
var $ca9df0d41c4591c9$export$328af1edb566eae3;
var $ca9df0d41c4591c9$export$939d7654b00a3df9;
var $ca9df0d41c4591c9$export$2f388bdb5e147bac;
var $ca9df0d41c4591c9$export$4bc86dd528c758a3;
var $ca9df0d41c4591c9$export$deaf7926095b512d;
var $ca9df0d41c4591c9$export$37c675ad6e14d9ff;
var $ca9df0d41c4591c9$export$5f8d3589eb8441ca;
var $ca9df0d41c4591c9$export$fb55bfd207eb66bf;
$ca9df0d41c4591c9$export$54384a8b841c9096 = `VC4pIW_activeIconWrapper`;
$ca9df0d41c4591c9$export$cc1adf6fb659c762 = `VC4pIW_controls`;
$ca9df0d41c4591c9$export$fe8985bb6374093c = `VC4pIW_hide`;
$ca9df0d41c4591c9$export$a2b3dd87d3e471be = `VC4pIW_centerButton`;
$ca9df0d41c4591c9$export$5321aef497dbc95 = `VC4pIW_watchTimer`;
$ca9df0d41c4591c9$export$26238087290c1f5b = `VC4pIW_osdActive`;
$ca9df0d41c4591c9$export$e475d70d0abfaf0c = `VC4pIW_prgsBar`;
$ca9df0d41c4591c9$export$89da14300d534261 = `VC4pIW_active`;
$ca9df0d41c4591c9$export$d86087c43b3ca0df = `VC4pIW_backArrowMainDiv`;
$ca9df0d41c4591c9$export$641374ffb95bc399 = `VC4pIW_spinner`;
$ca9df0d41c4591c9$export$934587b1a6f00472 = `VC4pIW_iconSmall`;
$ca9df0d41c4591c9$export$44601925ebb63135 = `VC4pIW_sliderProgress`;
$ca9df0d41c4591c9$export$b082c0b7a6cd56b2 = `VC4pIW_spinn`;
$ca9df0d41c4591c9$export$b082c0b7a6cd56b2;
$ca9df0d41c4591c9$export$bb628a54ab399bc9 = `VC4pIW_rotate`;
$ca9df0d41c4591c9$export$77806bb1d74cd6f6 = `VC4pIW_ctrlContainer`;
$ca9df0d41c4591c9$export$ed2652bdb9ef1ad0 = `VC4pIW_toolBar`;
$ca9df0d41c4591c9$export$523cee24344607ef = `VC4pIW_volSlider`;
$ca9df0d41c4591c9$export$5e53b5cc6c2ef6ac = `VC4pIW_settingPopup`;
$ca9df0d41c4591c9$export$502df2ec96816c8c = `VC4pIW_centerButtonImage`;
$ca9df0d41c4591c9$export$e8e78c978b129247 = `VC4pIW_root`;
$ca9df0d41c4591c9$export$b99e7c702abdb77a = `VC4pIW_sliderWrapper`;
$ca9df0d41c4591c9$export$d9d30bff7354568a = `VC4pIW_settingItem`;
$ca9df0d41c4591c9$export$fb184b623420d9be = `VC4pIW_title`;
$ca9df0d41c4591c9$export$f2732ff72bedcaa4 = `VC4pIW_fullScrMainDiv`;
$ca9df0d41c4591c9$export$ea551f4aac394d83 = `VC4pIW_iconmd`;
$ca9df0d41c4591c9$export$22702ef448665b4d = `VC4pIW_prgsContainer`;
$ca9df0d41c4591c9$export$a1b4384913d28591 = `VC4pIW_osdBar`;
$ca9df0d41c4591c9$export$b0904f355cb5d789 = `VC4pIW_seekTimeTooltip`;
$ca9df0d41c4591c9$export$5bbce59cbad6e3b7 = `VC4pIW_innerOsd`;
$ca9df0d41c4591c9$export$e2b69c907b9ef440 = `VC4pIW_scrubber`;
$ca9df0d41c4591c9$export$49ee957901f7a027 = `VC4pIW_prgsContainerWrapper`;
$ca9df0d41c4591c9$export$76c7e83ecc9cdf05 = `VC4pIW_listItem`;
$ca9df0d41c4591c9$export$1f490cbad58081d8 = `VC4pIW_iconButtonImage`;
$ca9df0d41c4591c9$export$1ca1ec8b29a4ce27 = `VC4pIW_icon`;
$ca9df0d41c4591c9$export$f38465fe307ff1ea = `VC4pIW_prgsHover`;
$ca9df0d41c4591c9$export$208d04ce5dd64049 = `VC4pIW_settingWrapper`;
$ca9df0d41c4591c9$export$e9be0fb78d9ff657 = `VC4pIW_centerBtnHide`;
$ca9df0d41c4591c9$export$2ba01fb71ed41cb6 = `VC4pIW_button`;
$ca9df0d41c4591c9$export$328af1edb566eae3 = `VC4pIW_volCtrlWrapper`;
$ca9df0d41c4591c9$export$939d7654b00a3df9 = `VC4pIW_titleMainDiv`;
$ca9df0d41c4591c9$export$2f388bdb5e147bac = `VC4pIW_prgsWrapper`;
$ca9df0d41c4591c9$export$4bc86dd528c758a3 = `VC4pIW_centerBtnShow`;
$ca9df0d41c4591c9$export$deaf7926095b512d = `VC4pIW_ctrlRight`;
$ca9df0d41c4591c9$export$37c675ad6e14d9ff = `VC4pIW_indicatorIcon`;
$ca9df0d41c4591c9$export$5f8d3589eb8441ca = `VC4pIW_video`;
$ca9df0d41c4591c9$export$fb55bfd207eb66bf = `VC4pIW_ctrlLeft`;



const $67d8bd73256b8650$export$bca14c5b3b88a9c9 = {
    colors: {
        primary: "#00b428",
        secondary: "#e8dd26",
        centerIconButtonColor: "green",
        centerIconButtonHoverColor: "yellow",
        iconButtonColor: "purple",
        iconButtonHoverColor: "violet",
        brandColor: "blue",
        progressBGColor: "red",
        progressLoadedColor: "blue",
        settingsBGColor: "blue",
        settingsTextColor: "red",
        settingsHoverColor: "green",
        tooltipTextColor: "blue",
        tooltipBGColor: "pink"
    },
    spacing: {
        padding: "6px",
        margin: "20px",
        bottomBarSpacing: "21px",
        playerControlMargin: "20px",
        playerCornerRadius: "12px",
        centerIconButtonCornerRadius: "4px",
        centerIconButtonPadding: "4px",
        centerIconButtonSize: "80px",
        iconButtonCornerRadius: "4px",
        iconButtonPadding: "4px",
        iconButtonSize: "36px",
        progressBarHeight: "4px",
        progressBarHoverScale: "1.8"
    }
};


const $3406b1a6eea89003$var$createShortcuts = (player)=>({
        ArrowUp: (player)=>player.incVolume(),
        ArrowDown: (player)=>player.decVolume(),
        ArrowLeft: (player)=>player.seekBackward(),
        ArrowRight: (player)=>player.seekForward(),
        f: (player)=>player.toggleFullScreen(),
        F: (player)=>player.toggleFullScreen(),
        m: (player)=>player.muted = !player.muted,
        M: (player)=>player.muted = !player.muted,
        " ": (player)=>player.paused ? player.play() : player.pause()
    });
const $3406b1a6eea89003$export$fa56c4d672c0eb0a = (player)=>{
    const shortcuts = $3406b1a6eea89003$var$createShortcuts(player);
    const shortcustHandler = (e)=>{
        for(let key in shortcuts)if (e.key === key) shortcuts[e.key](player);
    };
    document.addEventListener("keydown", shortcustHandler, true);
    const deatachShortcut = ()=>document.removeEventListener("keydown", shortcustHandler, true);
    return deatachShortcut;
};


// Needed for mother fucking floating point precision error in js
const $3307b9ff306c97ee$export$6ca0df4b87f62c7c = 10;
const $3307b9ff306c97ee$export$875103b50cfe73aa = .05;
const $3307b9ff306c97ee$export$a8985e66a5ecd24f = 10;



const $83c9e6ee03e7ee34$export$6a41fbcb71523df8 = (cfg = {})=>{
    const btn = document.createElement("div");
    if (cfg.text) btn.textContent = cfg.text;
    if (cfg.icon) {
        const el = document.createElement("img");
        el.src = cfg.icon;
        el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).iconButtonImage;
        btn.appendChild(el);
    // btn.style.mask = `url(${cfg.icon})`
    // btn.style.webkitMask = `url(${cfg.icon})`
    // btn.style.webkitMaskSize = 'contain'
    // btn.style.webkitMaskRepeat = 'no-repeat'
    }
    if (cfg.style) btn.style.cssText = JSON.stringify(cfg.style);
    else btn.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).controls;
    return btn;
};
const $83c9e6ee03e7ee34$export$129f0a95dc280ac5 = (el, icon)=>{
    const imgel = el.children[0];
    imgel.src = icon;
// el.style.mask = `url(${icon})`
// el.style.webkitMask = `url(${icon})`
// el.style.webkitMaskSize = 'contain'
// el.style.webkitMaskRepeat = 'no-repeat'
};


var $0b29251b41c12945$exports = {};
$0b29251b41c12945$exports = new URL("play_arrow.dabf52f3.svg", "file:" + __filename).toString();


var $297a52c918b41e93$exports = {};
$297a52c918b41e93$exports = new URL("play_circle.8f419092.svg", "file:" + __filename).toString();


var $1de6478421d60540$exports = {};
$1de6478421d60540$exports = new URL("pause.6b7c189f.svg", "file:" + __filename).toString();


var $f0202413988421c8$exports = {};
$f0202413988421c8$exports = new URL("stop.5815c0c2.svg", "file:" + __filename).toString();


var $9933d976c47c05a7$exports = {};
$9933d976c47c05a7$exports = new URL("replay.00da1f02.svg", "file:" + __filename).toString();


var $9b4cbe4528fb0583$exports = {};
$9b4cbe4528fb0583$exports = new URL("volume_off.1500a199.svg", "file:" + __filename).toString();


var $987ce38555ad2882$exports = {};
$987ce38555ad2882$exports = new URL("volume_up.1f65c2af.svg", "file:" + __filename).toString();


var $865ea319e9152439$exports = {};
$865ea319e9152439$exports = new URL("fullscreen.8b6fbb50.svg", "file:" + __filename).toString();


var $7f210635a775185e$exports = {};
$7f210635a775185e$exports = new URL("fullscreen_exit.87a47754.svg", "file:" + __filename).toString();


var $5215728e025c60dd$exports = {};
$5215728e025c60dd$exports = new URL("hd.de72d9d8.svg", "file:" + __filename).toString();


var $b7edca5936f4d0be$exports = {};
$b7edca5936f4d0be$exports = new URL("high_quality.95de72ec.svg", "file:" + __filename).toString();


var $e0a4724df9b09781$exports = {};
$e0a4724df9b09781$exports = new URL("2k.e819826a.svg", "file:" + __filename).toString();


var $4ed628aa4b905d23$exports = {};
$4ed628aa4b905d23$exports = new URL("4k.6ad2ccbe.svg", "file:" + __filename).toString();


var $76cd4ec192aabaa9$exports = {};
$76cd4ec192aabaa9$exports = new URL("settings.80bb2689.svg", "file:" + __filename).toString();


var $0401d99fc17ee1f8$exports = {};
$0401d99fc17ee1f8$exports = new URL("closed_caption_disabled.b6ab8dca.svg", "file:" + __filename).toString();


var $f669eefd57d348c9$exports = {};
$f669eefd57d348c9$exports = new URL("closed_caption_enabled.b74a4bc2.svg", "file:" + __filename).toString();


var $831fadad19774975$exports = {};
$831fadad19774975$exports = new URL("tune.d2ca17c7.svg", "file:" + __filename).toString();


var $ece434fd02452646$exports = {};
$ece434fd02452646$exports = new URL("slow_motion_video.f0da7ea2.svg", "file:" + __filename).toString();


var $e8bc643d88ba18cd$exports = {};
$e8bc643d88ba18cd$exports = new URL("chevron_right.93f52ab4.svg", "file:" + __filename).toString();


var $75853fd3616d8785$exports = {};
$75853fd3616d8785$exports = new URL("chevron_left.e65bd877.svg", "file:" + __filename).toString();


var $9dfc1588fdd7c7a4$exports = {};
$9dfc1588fdd7c7a4$exports = new URL("arrow_back.b2bd1896.svg", "file:" + __filename).toString();


var $3f27d215771b3ca0$exports = {};
$3f27d215771b3ca0$exports = new URL("volume_down.2bc3a7ef.svg", "file:" + __filename).toString();


var $527c615c071a96cb$exports = {};
$527c615c071a96cb$exports = new URL("screen_lock_landscape.96152007.svg", "file:" + __filename).toString();


var $4904e625ecbd1091$exports = {};
$4904e625ecbd1091$exports = new URL("screen_lock_rotation.0f8bf9e3.svg", "file:" + __filename).toString();


const $68df73fce0f18379$export$a2d8b23205c25948 = {
    PlayIcon: (/*@__PURE__*/$parcel$interopDefault($0b29251b41c12945$exports)),
    PauseIcon: (/*@__PURE__*/$parcel$interopDefault($1de6478421d60540$exports)),
    StopIcon: (/*@__PURE__*/$parcel$interopDefault($f0202413988421c8$exports)),
    ReplayIcon: (/*@__PURE__*/$parcel$interopDefault($9933d976c47c05a7$exports)),
    VolumeOnIcon: (/*@__PURE__*/$parcel$interopDefault($987ce38555ad2882$exports)),
    VolumeOffIcon: (/*@__PURE__*/$parcel$interopDefault($9b4cbe4528fb0583$exports)),
    FullScreenIcon: (/*@__PURE__*/$parcel$interopDefault($865ea319e9152439$exports)),
    FullScreenExitIcon: (/*@__PURE__*/$parcel$interopDefault($7f210635a775185e$exports)),
    HqIcon: (/*@__PURE__*/$parcel$interopDefault($b7edca5936f4d0be$exports)),
    HdIcon: (/*@__PURE__*/$parcel$interopDefault($5215728e025c60dd$exports)),
    TwoKIcon: (/*@__PURE__*/$parcel$interopDefault($e0a4724df9b09781$exports)),
    FourKIcon: (/*@__PURE__*/$parcel$interopDefault($4ed628aa4b905d23$exports)),
    SettingIcon: (/*@__PURE__*/$parcel$interopDefault($76cd4ec192aabaa9$exports)),
    ClosedCaptionEnabledIcon: (/*@__PURE__*/$parcel$interopDefault($0401d99fc17ee1f8$exports)),
    ClosedCaptionDisabledIcon: (/*@__PURE__*/$parcel$interopDefault($f669eefd57d348c9$exports)),
    TuneIcon: (/*@__PURE__*/$parcel$interopDefault($831fadad19774975$exports)),
    SlowMotionIcon: (/*@__PURE__*/$parcel$interopDefault($ece434fd02452646$exports)),
    ChevronRightIcon: (/*@__PURE__*/$parcel$interopDefault($e8bc643d88ba18cd$exports)),
    ChevronLeftIcon: (/*@__PURE__*/$parcel$interopDefault($75853fd3616d8785$exports)),
    PlayCircleIcon: (/*@__PURE__*/$parcel$interopDefault($297a52c918b41e93$exports)),
    ArrowBackIcon: (/*@__PURE__*/$parcel$interopDefault($9dfc1588fdd7c7a4$exports)),
    VolumeDownIcon: (/*@__PURE__*/$parcel$interopDefault($3f27d215771b3ca0$exports)),
    ScrLockLandscapeIcon: (/*@__PURE__*/$parcel$interopDefault($527c615c071a96cb$exports)),
    ScrLockRotationIcon: (/*@__PURE__*/$parcel$interopDefault($4904e625ecbd1091$exports))
};


class $46f7d01faa656c4c$var$PlayButton {
    constructor(player, config){
        this._el = (0, $83c9e6ee03e7ee34$export$6a41fbcb71523df8)({
            icon: (0, $68df73fce0f18379$export$a2d8b23205c25948).PlayIcon
        });
        if (!config.showPlayPause) this._el.style.display = "none";
        this._el.addEventListener("click", ()=>{
            this.handleClick(player);
        });
    }
    handleClick(player) {
        if (player.ended) {
            player.currentTime = 0;
            player.play();
            return;
        }
        player.paused ? player.play() : player.pause();
    }
    addTo(el) {
        el.appendChild(this._el);
    }
    changeIcon(icon) {
        (0, $83c9e6ee03e7ee34$export$129f0a95dc280ac5)(this._el, icon);
    }
    get element() {
        return this._el;
    }
}
var $46f7d01faa656c4c$export$2e2bcd8739ae039 = $46f7d01faa656c4c$var$PlayButton;





class $54d27da550dbb9b7$var$FullSrcCtrl {
    constructor(player, config){
        this._el = (0, $83c9e6ee03e7ee34$export$6a41fbcb71523df8)({
            icon: (0, $68df73fce0f18379$export$a2d8b23205c25948).FullScreenIcon
        });
        if (!config.showFullscreen) this._el.style.display = "none";
        this.attachListener();
        this._el.addEventListener("click", ()=>{
            this.clickHandler(player);
        });
    }
    attachListener() {
        document.addEventListener("fullscreenchange", ()=>{
            if (document.fullscreenElement) (0, $83c9e6ee03e7ee34$export$129f0a95dc280ac5)(this._el, (0, $68df73fce0f18379$export$a2d8b23205c25948).FullScreenExitIcon);
            else (0, $83c9e6ee03e7ee34$export$129f0a95dc280ac5)(this._el, (0, $68df73fce0f18379$export$a2d8b23205c25948).FullScreenIcon);
        });
    }
    clickHandler(player) {
        player.toggleFullScreen();
    }
    get element() {
        return this._el;
    }
}
var $54d27da550dbb9b7$export$2e2bcd8739ae039 = $54d27da550dbb9b7$var$FullSrcCtrl;






class $3785d75510de71a0$var$VolumeController {
    constructor(player, config){
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).volCtrlWrapper;
        if (!config.showVolumeBar) this._el.style.display = "none";
        this.muteCtrl = (0, $83c9e6ee03e7ee34$export$6a41fbcb71523df8)({
            icon: player.muted ? (0, $68df73fce0f18379$export$a2d8b23205c25948).VolumeOffIcon : (0, $68df73fce0f18379$export$a2d8b23205c25948).VolumeOnIcon
        });
        this.volSlider = document.createElement("input");
        this.muteCtrl.addEventListener("click", ()=>{
            player.muted = !player.muted;
        });
        this.volSlider.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).volSlider;
        this.volSlider.classList.add((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).sliderProgress);
        this.volSlider.type = "range";
        this.volSlider.min = "0";
        this.volSlider.max = "1";
        this.volSlider.step = (0, $3307b9ff306c97ee$export$875103b50cfe73aa).toString();
        this.volSlider.style.setProperty("--value", this.volSlider.value);
        this.volSlider.style.setProperty("--min", this.volSlider.min == "" ? "0" : this.volSlider.min);
        this.volSlider.style.setProperty("--max", this.volSlider.max == "" ? "1" : this.volSlider.max);
        this.volSlider.addEventListener("input", (e)=>{
            this.volSlider.style.setProperty("--value", this.volSlider.value);
            // @ts-ignore
            player.volume = e.target.value;
        });
        const btnWrapper = document.createElement("div");
        const sliderWrapper = document.createElement("div");
        sliderWrapper.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).sliderWrapper;
        btnWrapper.appendChild(this.muteCtrl);
        sliderWrapper.appendChild(this.volSlider);
        this._el.append(btnWrapper, sliderWrapper);
    }
    update(player) {
        if (player.volume === 0 || player.muted) {
            (0, $83c9e6ee03e7ee34$export$129f0a95dc280ac5)(this.muteCtrl, (0, $68df73fce0f18379$export$a2d8b23205c25948).VolumeOffIcon);
            this.volSlider.value = "0";
            this.volSlider.style.setProperty("--value", "0");
        } else if (player.volume > 0 && player.volume < .5) {
            (0, $83c9e6ee03e7ee34$export$129f0a95dc280ac5)(this.muteCtrl, (0, $68df73fce0f18379$export$a2d8b23205c25948).VolumeDownIcon);
            this.volSlider.value = player.volume.toString();
            this.volSlider.style.setProperty("--value", player.volume.toString());
        } else {
            (0, $83c9e6ee03e7ee34$export$129f0a95dc280ac5)(this.muteCtrl, (0, $68df73fce0f18379$export$a2d8b23205c25948).VolumeOnIcon);
            this.volSlider.value = player.volume.toString();
            this.volSlider.style.setProperty("--value", player.volume.toString());
        }
    }
    get element() {
        return this._el;
    }
}
var $3785d75510de71a0$export$2e2bcd8739ae039 = $3785d75510de71a0$var$VolumeController;



class $c83f5f3839c07d7f$var$Osd {
    _visibility = false;
    constructor({ left: left , right: right  }){
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).osdBar;
        this._innerEl = document.createElement("div");
        this._innerEl.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).innerOsd;
        const ctrlContainer = document.createElement("div");
        ctrlContainer.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).ctrlContainer;
        const ctrlLeft = document.createElement("div");
        ctrlLeft.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).ctrlLeft;
        const ctrlRight = document.createElement("div");
        ctrlRight.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).ctrlRight;
        left.forEach((ctrl)=>ctrlLeft.appendChild(ctrl.element));
        right.forEach((ctrl)=>ctrlRight.appendChild(ctrl.element));
        ctrlContainer.appendChild(ctrlLeft);
        ctrlContainer.appendChild(ctrlRight);
        this._innerEl.appendChild(ctrlContainer);
        this._el.appendChild(this._innerEl);
    }
    get element() {
        return this._el;
    }
    get visible() {
        return this._visibility;
    }
    show() {
        this._visibility = true;
        this._el.classList.add((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).osdActive);
    }
    hide() {
        this._visibility = false;
        this._el.classList.remove((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).osdActive);
    }
    append(ctrl) {
        this._innerEl.appendChild(ctrl.element);
    }
    prepend(ctrl) {
        this._innerEl.prepend(ctrl.element);
    }
}
var $c83f5f3839c07d7f$export$2e2bcd8739ae039 = $c83f5f3839c07d7f$var$Osd;


const $e3c79d37e78601e5$export$f230fa7a3f9d36e1 = (d)=>(v)=>0 + 100 / (d - 0) * (v - 0);
const $e3c79d37e78601e5$export$649a455e905777fd = (d)=>(v)=>0 + (d - 0) / 100 * (v - 0);
function $e3c79d37e78601e5$export$a14e8754c327dfd0(e) {
    const h = Math.floor(e / 3600).toString().padStart(2, "0"), m = Math.floor(e % 3600 / 60).toString().padStart(2, "0"), s = Math.floor(e % 60).toString().padStart(2, "0");
    return Number(h) > 0 ? h + ":" + m + ":" + s : m + ":" + s;
}



class $377e31a5ba35ba06$var$WatchTimer {
    constructor(config){
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).watchTimer;
        if (!config.showTimestamp) this._el.style.display = "none";
        this.durationEl = document.createElement("span");
        this.durationEl.textContent = "00:00";
        this.currTimeEl = document.createElement("span");
        this.currTimeEl.textContent = "00:00";
        this._el.append(this.currTimeEl, " / ", this.durationEl);
    }
    setDuration(time) {
        this.durationEl.textContent = (0, $e3c79d37e78601e5$export$a14e8754c327dfd0)(time);
    }
    setCurrentTime(time) {
        this.currTimeEl.textContent = (0, $e3c79d37e78601e5$export$a14e8754c327dfd0)(time);
    }
    get element() {
        return this._el;
    }
}
var $377e31a5ba35ba06$export$2e2bcd8739ae039 = $377e31a5ba35ba06$var$WatchTimer;




class $446161c6821b3737$var$ProgressBar {
    constructor(player, osd, video, config){
        this.osd = osd;
        this.video = video;
        // The whole progress bar
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).prgsContainer;
        if (!config.showProgressBar) this._el.style.display = "none";
        this.wrapper = document.createElement("div");
        this.wrapper.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).prgsWrapper;
        // Shows the progess value
        this.progressEl = document.createElement("div");
        this.progressEl.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).prgsBar;
        this.wrapper.appendChild(this.progressEl);
        //player.setProgressBarEl(prgsBar);
        //
        // Scrubber 
        this.scrubberEl = document.createElement("div");
        this.scrubberEl.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).scrubber;
        //scrubber.draggable = true
        //player.scrubber = scrubber;
        this.hoverEl = document.createElement("div");
        this.hoverEl.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).prgsHover;
        this.wrapper.appendChild(this.hoverEl);
        // Showing seek time tooltip
        this.timeTooltipEl = document.createElement("div");
        this.timeTooltipEl.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).seekTimeTooltip;
        this._el.appendChild(this.timeTooltipEl);
        this._el.appendChild(this.scrubberEl);
        this._el.appendChild(this.wrapper);
        this.addEventListener(player);
    }
    getSeekablePos(pos) {
        return (0, $e3c79d37e78601e5$export$f230fa7a3f9d36e1)(this.wrapper.clientWidth)(pos);
    }
    touchHandler(player) {
        this._el.addEventListener("touchmove", (e)=>{
            const touchPos = e.touches[0].clientX;
            const seekVal = (0, $e3c79d37e78601e5$export$649a455e905777fd)(player.duration)(this.getSeekablePos(touchPos));
            this.scrubberEl.style.left = `${this.getSeekablePos(touchPos)}%`;
            this.progressEl.style.width = `${this.getSeekablePos(touchPos)}%`;
            player.currentTime = seekVal;
        });
    }
    mouseMoveHandler(e) {
        return (player)=>{
            const touchPos = e.clientX - this.wrapper.getBoundingClientRect().left;
            const seekVal = (0, $e3c79d37e78601e5$export$649a455e905777fd)(player.duration)(this.getSeekablePos(touchPos));
            this.scrubberEl.style.left = `${this.getSeekablePos(touchPos)}%`;
            this.progressEl.style.width = `${this.getSeekablePos(touchPos)}%`;
            player.currentTime = seekVal;
        };
    }
    hoverHandler(e) {
        return (player)=>{
            // getPrgsBarWith(val) - Reduces the progess bar with between 0-100 
            // by downscalling it from the original width 
            // The mouse cursor position on the progress bar
            const cursorPos = e.clientX - this.wrapper.getBoundingClientRect().left;
            // The mouse cursor position in percentage (0-100)
            const posInPercent = this.getSeekablePos(cursorPos < 0 ? 0 : cursorPos);
            // 45.67 /100
            //total duration player.player.duration
            // The seek time value based on mouse cursor position on the progess bar 
            const seekTime = (0, $e3c79d37e78601e5$export$a14e8754c327dfd0)(player.duration * (posInPercent / 100));
            this.timeTooltipEl.textContent = seekTime;
            this.timeTooltipEl.style.left = `${cursorPos}px`;
            this.timeTooltipEl.style.opacity = "1";
            this.hoverEl.style.width = `${posInPercent}%`;
        };
    }
    addEventListener(player) {
        const handler = (e)=>this.mouseMoveHandler(e)(player);
        this._el.addEventListener("touchmove", ()=>this.touchHandler(player));
        this.wrapper.addEventListener("mousedown", ()=>{
            this.video.addEventListener("mousemove", handler, true);
            this.osd.element.addEventListener("mousemove", handler, true);
        }, true);
        this.video.addEventListener("mouseup", ()=>{
            this.video.removeEventListener("mousemove", handler, true);
            this.osd.element.removeEventListener("mousemove", handler, true);
        });
        this.osd.element.addEventListener("mouseup", ()=>{
            this.osd.element.removeEventListener("mousemove", handler, true);
            this.video.removeEventListener("mousemove", handler, true);
        });
        this.wrapper.addEventListener("mouseup", ()=>{
            this.video.removeEventListener("mousemove", handler, true);
            this.osd.element.addEventListener("mousemove", handler, true);
        }, true);
        // Seeking thingy
        this.progressEl.addEventListener("click", (e)=>{
            const cusrsorPos = e.clientX - this.wrapper.getBoundingClientRect().left;
            const seekVal = (0, $e3c79d37e78601e5$export$649a455e905777fd)(player.duration)(this.getSeekablePos(cusrsorPos));
            this.scrubberEl.style.left = `${this.getSeekablePos(cusrsorPos)}%`;
            player.currentTime = seekVal;
        });
        this._el.addEventListener("click", (e)=>{
            const cusrsorPos = e.clientX - this.wrapper.getBoundingClientRect().left;
            const seekVal = (0, $e3c79d37e78601e5$export$649a455e905777fd)(player.duration)(this.getSeekablePos(cusrsorPos));
            this.scrubberEl.style.left = `${this.getSeekablePos(cusrsorPos)}%`;
            player.currentTime = seekVal;
        });
        this.wrapper.addEventListener("mousemove", (e)=>this.hoverHandler(e)(player));
        this.wrapper.addEventListener("mouseleave", ()=>{
            this.timeTooltipEl.textContent = "";
            this.timeTooltipEl.style.opacity = "0";
            this.hoverEl.style.width = `0%`;
        });
    }
    update(player, time) {
        this.progressEl.style.width = `${(0, $e3c79d37e78601e5$export$f230fa7a3f9d36e1)(player.duration)(time)}%`;
        this.scrubberEl.style.left = `${(0, $e3c79d37e78601e5$export$f230fa7a3f9d36e1)(player.duration)(time)}%`;
    }
    get element() {
        return this._el;
    }
}
var $446161c6821b3737$export$2e2bcd8739ae039 = $446161c6821b3737$var$ProgressBar;





class $d18add66a67b9387$var$SettingItem {
    constructor(props){
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).settingItem;
        const icon = document.createElement("div");
        icon.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).icon;
        icon.style.mask = `url(${props.icon})`;
        icon.style.webkitMask = `url(${props.icon})`;
        icon.style.webkitMaskSize = "contain";
        icon.style.webkitMaskRepeat = "no-repeat";
        const levelDiv = document.createElement("div");
        levelDiv.textContent = props.text;
        this.valueEl = document.createElement("div");
        this.valueEl.textContent = props.value || "";
        this.valueEl.style.fontSize = "12px";
        const dv = document.createElement("div");
        dv.style.cssText = `
      display:flex;
      align-items: center;
      gap: 8px
    `;
        dv.append(icon, levelDiv);
        const moreIcon = document.createElement("div");
        moreIcon.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).icon;
        moreIcon.style.mask = `url(${(0, $68df73fce0f18379$export$a2d8b23205c25948).ChevronRightIcon})`;
        moreIcon.style.webkitMask = `url(${(0, $68df73fce0f18379$export$a2d8b23205c25948).ChevronRightIcon})`;
        moreIcon.style.webkitMaskSize = "contain";
        moreIcon.style.webkitMaskRepeat = "no-repeat";
        moreIcon.style.width = "14px";
        moreIcon.style.height = "14px";
        const dv2 = document.createElement("div");
        dv2.style.cssText = `
      display:flex;
      align-items: center;
      gap: 8px
    `;
        dv2.append(this.valueEl, moreIcon);
        this._el.append(dv, dv2);
        this._el.addEventListener("click", ()=>props.onClick());
    }
    get element() {
        return this._el;
    }
    setValue(val) {
        this.valueEl.textContent = val;
    }
}
class $d18add66a67b9387$var$QualityItem {
    constructor(props){
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).listItem;
        this.indicatorWrapper = document.createElement("div");
        this.indicatorWrapper.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).activeIconWrapper;
        this.indicatorWrapper.classList.add("iconWrapper");
        this.indicatorWrapper.setAttribute("data-id", `quality_${props.id}`);
        const labelNode = document.createElement("div");
        labelNode.textContent = props.level.height + "p";
        this._el.appendChild(this.indicatorWrapper);
        this._el.appendChild(labelNode);
        props.default && this.setAsCurrent();
        this._el.addEventListener("click", ()=>{
            props.setCurr && this.setAsCurrent();
            props.onClick();
        });
    }
    setAsCurrent() {
        const activeIconWrapper = document.querySelectorAll(".iconWrapper");
        activeIconWrapper.forEach((el)=>{
            if (el.hasChildNodes()) el.firstChild?.remove();
        });
        const activeIcon = document.createElement("div");
        activeIcon.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).indicatorIcon;
        this.indicatorWrapper.appendChild(activeIcon);
    // TODO: as it takes time to switch the level, we must impliment a toast message to notify
    }
    get element() {
        return this._el;
    }
}
class $d18add66a67b9387$var$SpeedItem {
    constructor(props){
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).listItem;
        this.indicatorWrapper = document.createElement("div");
        this.indicatorWrapper.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).activeIconWrapper;
        this.indicatorWrapper.classList.add("currSpeed");
        this.indicatorWrapper.setAttribute("data-id", `speed_${props.speed}`);
        const labelNode = document.createElement("div");
        labelNode.textContent = props.speed.toString() || "";
        this._el.appendChild(this.indicatorWrapper);
        this._el.appendChild(labelNode);
        props.default && this.setAsCurrent();
        this._el.addEventListener("click", ()=>{
            props.setCurr && this.setAsCurrent();
            props.onClick();
        });
    }
    setAsCurrent() {
        const activeIconWrapper = document.querySelectorAll(".currSpeed");
        console.log(activeIconWrapper);
        activeIconWrapper.forEach((el)=>{
            console.log(el.hasChildNodes());
            if (el.hasChildNodes()) el.firstChild?.remove();
        });
        const activeIcon = document.createElement("div");
        activeIcon.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).indicatorIcon;
        this.indicatorWrapper.appendChild(activeIcon);
    }
    get element() {
        return this._el;
    }
}
class $d18add66a67b9387$var$SettingControl {
    popupVisible = false;
    _levels = [];
    _speeds = [];
    lastChilds = [];
    ctrls = {};
    hlsLevels = [];
    constructor(player, config){
        this._popupEl = document.createElement("div");
        this._popupEl.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).settingWrapper;
        this._settingItems = document.createElement("div");
        this._settingItems.style.width = "100%";
        this._innerEl = document.createElement("div");
        this._el = (0, $83c9e6ee03e7ee34$export$6a41fbcb71523df8)({
            icon: (0, $68df73fce0f18379$export$a2d8b23205c25948).SettingIcon
        });
        if (!config.showSettings) this._el.style.display = "none";
        this._el.addEventListener("click", ()=>{
            this.popupVisible ? this.hide() : this.show();
        });
        this.createSpeedSelector(player);
    }
    show() {
        if (this.popupVisible) return;
        this.popupVisible = true;
        this._popupEl.style.display = "block";
        this._popupEl.style.zIndex = "16";
    }
    hide() {
        if (!this.popupVisible) return;
        this.popupVisible = false;
        this._popupEl.style.display = "none";
        this._popupEl.style.zIndex = "-16";
    }
    set quality(id) {
        const val = this.hlsLevels[id].height + "p" + (this.hlsLevels[id].attrs["FRAME-RATE"] || "");
        this.ctrls.qltyCtrl.setValue(val);
    }
    set playbackRate(rate) {
        const val = rate === 1 ? "Normal" : rate.toString();
        this.ctrls.speedCtrl.setValue(val);
    }
    createWindow({ player: player , levels: levels , hls: hls  }) {
        const speedCtrl = new $d18add66a67b9387$var$SettingItem({
            text: "Playback speed",
            icon: (0, $68df73fce0f18379$export$a2d8b23205c25948).SlowMotionIcon,
            onClick: ()=>{
                this.lastChilds = this.getChild(this._popupEl);
                this._innerEl.replaceChildren(this._speedPopup);
            },
            value: "Normal"
        });
        const qltyctrl = new $d18add66a67b9387$var$SettingItem({
            text: "Quality",
            icon: (0, $68df73fce0f18379$export$a2d8b23205c25948).TuneIcon,
            onClick: ()=>{
                this.lastChilds = this.getChild(this._popupEl);
                this._innerEl.replaceChildren(this._levelPopup);
            }
        });
        this._settingItems.append(qltyctrl.element, speedCtrl.element);
        this._innerEl.appendChild(this._settingItems);
        this.ctrls.qltyCtrl = qltyctrl;
        this.ctrls.speedCtrl = speedCtrl;
        if (levels && hls) {
            this.hlsLevels = levels;
            this.createLevelSelector(levels, hls);
        }
        this._innerEl.style.position = "relative";
        this._popupEl.appendChild(this._innerEl);
        return this._popupEl;
    }
    backItem(title) {
        const btn = document.createElement("div");
        btn.textContent = title;
        btn.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).listItem;
        btn.style.borderBottom = "1px solid #8C9AAE";
        const icon = document.createElement("div");
        icon.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).icon;
        icon.style.mask = `url(${(0, $68df73fce0f18379$export$a2d8b23205c25948).ArrowBackIcon})`;
        icon.style.webkitMask = `url(${(0, $68df73fce0f18379$export$a2d8b23205c25948).ArrowBackIcon})`;
        icon.style.webkitMaskSize = "contain";
        icon.style.webkitMaskRepeat = "no-repeat";
        btn.prepend(icon);
        btn.addEventListener("click", ()=>{
            this.lastChilds = this.getChild(this._popupEl);
            this._innerEl.replaceChildren(this._settingItems);
        });
        return btn;
    }
    createLevelSelector(levels, hls) {
        this._levelPopup = document.createElement("div");
        this._levelPopup.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).settingPopup;
        this._levels = levels.map((level, idx)=>new $d18add66a67b9387$var$QualityItem({
                level: level,
                id: idx,
                onClick: ()=>{
                    hls.nextLevel = idx;
                    this.hide();
                    this.lastChilds = this.getChild(this._popupEl);
                    this._innerEl.replaceChildren(this._settingItems);
                    this.quality = idx;
                },
                setCurr: true,
                ...idx === 0 && {
                    default: true
                }
            }));
        this._levelPopup.append(...this._levels.map((l)=>l.element));
        this._levelPopup.prepend(this.backItem("Quality"));
    }
    createSpeedSelector(player) {
        const speeds = [
            .25,
            .5,
            .75,
            1,
            1.25,
            1.5,
            2
        ];
        this._speedPopup = document.createElement("div");
        this._speedPopup.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).settingPopup;
        this._speeds = speeds.map((speed)=>new $d18add66a67b9387$var$SpeedItem({
                speed: speed,
                onClick: ()=>{
                    player.playbackRate = speed;
                    this.hide();
                    this.lastChilds = this.getChild(this._popupEl);
                    this._innerEl.replaceChildren(this._settingItems);
                },
                setCurr: true,
                ...speed === 1 && {
                    default: true
                }
            }));
        this._speedPopup.append(...this._speeds.map((s)=>s.element));
        this._speedPopup.prepend(this.backItem("Playback Speed"));
    }
    get element() {
        return this._el;
    }
    get innerElement() {
        return this._el.firstChild;
    }
    getChild(el) {
        if (!el.hasChildNodes()) return [
            el
        ];
        const allChilds = [];
        const childs = el.childNodes;
        childs.forEach((ch)=>{
            allChilds.push(ch);
            if (ch.hasChildNodes()) allChilds.push(...this.getChild(ch));
        });
        return allChilds;
    }
    contains(el) {
        return this.lastChilds.some((node)=>el.isSameNode(node));
    }
}
var $d18add66a67b9387$export$2e2bcd8739ae039 = $d18add66a67b9387$var$SettingControl;



class $6b7e7dd6ea7722d9$var$Spinner {
    constructor(){
        this.visible = false;
        this.element = document.createElement("div");
        this.element.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).spinner;
        this.hide();
    }
    get() {
        return this.element;
    }
    show() {
        this.element.classList.remove((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).hide);
        this.visible = true;
    }
    hide() {
        this.visible = false;
        this.element.classList.add((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).hide);
    }
    addTo(el) {
        el.appendChild(this.element);
    }
}
var $6b7e7dd6ea7722d9$export$2e2bcd8739ae039 = $6b7e7dd6ea7722d9$var$Spinner;




class $a07e3b3f12dc1c9f$var$CenterButton {
    constructor(player, config){
        this.visible = false;
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).centerButton;
        if (!config.showCenterPlayPause) this._el.style.display = "none";
        this._iconel = document.createElement("img");
        this._iconel.src = (0, $68df73fce0f18379$export$a2d8b23205c25948).PlayIcon;
        this._iconel.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).centerButtonImage;
        this._el.appendChild(this._iconel);
        // this._el.style.mask = `url(${Material.PlayIcon})`;
        // this._el.style.webkitMask = `url(${Material.PlayIcon})`;
        // this._el.style.webkitMaskSize = 'contain';
        // this._el.style.webkitMaskRepeat = 'no-repeat';
        // this._el.addEventListener('mouseover', () => {
        //   this._el.style.backgroundColor = config.theme?.colors?.centerIconButtonHoverColor as string;
        // })
        // this._el.addEventListener('mouseleave', () => {
        //   this._el.style.backgroundColor = config.theme?.colors?.centerIconButtonColor as string;
        // })
        this._el.addEventListener("click", ()=>{
            player.play();
        });
    }
    show() {
        this.visible = true;
        this._el.classList.remove((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).centerBtnHide);
        this._el.classList.add((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).centerBtnShow);
    }
    hide() {
        this.visible = false;
        this._el.classList.remove((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).centerBtnShow);
        this._el.classList.add((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).centerBtnHide);
    }
    get element() {
        return this._el;
    }
}
var $a07e3b3f12dc1c9f$export$2e2bcd8739ae039 = $a07e3b3f12dc1c9f$var$CenterButton;



class $9da64be976acffb7$var$PrgsContainerWrapper {
    constructor(prgs, timer){
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).prgsContainerWrapper;
        this._el.append(prgs.element, timer.element);
    }
    get element() {
        return this._el;
    }
}
var $9da64be976acffb7$export$2e2bcd8739ae039 = $9da64be976acffb7$var$PrgsContainerWrapper;





class $c65f764c0d1d3d8d$var$Toolbar {
    _visibility = false;
    constructor(fullscrCtrl, config){
        this._el = document.createElement("div");
        this._el.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).toolBar;
        this._backBtn = (0, $83c9e6ee03e7ee34$export$6a41fbcb71523df8)({
            icon: (0, $68df73fce0f18379$export$a2d8b23205c25948).ArrowBackIcon
        });
        this._backBtn.addEventListener("click", ()=>{
            history.back();
        });
        this._title = document.createElement("p");
        this._title.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).title;
        this._title.textContent = config.title;
        this._backMain = document.createElement("div");
        this._titleMain = document.createElement("div");
        this._fullScrMain = document.createElement("div");
        if (!config.showVideoTitle) this._titleMain.style.display = "none";
        this._backMain.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).backArrowMainDiv;
        this._backMain.append(this._backBtn);
        this._titleMain.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).titleMainDiv;
        this._titleMain.append(this._title);
        this._fullScrMain.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).fullScrMainDiv;
        this._fullScrMain.append(fullscrCtrl.element);
        this._el.append(this._backMain, this._titleMain, this._fullScrMain);
    }
    show() {
        this._visibility = true;
        this._el.classList.add((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).osdActive);
    }
    hide() {
        this._visibility = false;
        this._el.classList.remove((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).osdActive);
    }
    get element() {
        return this._el;
    }
    get visible() {
        return this._visibility;
    }
}
var $c65f764c0d1d3d8d$export$2e2bcd8739ae039 = $c65f764c0d1d3d8d$var$Toolbar;


const $882b6d93070905b3$var$defaultConfig = {
    title: "",
    src: "",
    mediaType: "",
    autoplay: false,
    muted: false,
    loop: false,
    showCenterPlayPause: true,
    showPlayPause: true,
    showProgressBar: true,
    showTimestamp: true,
    showVolumeBar: true,
    showVideoTitle: true,
    showSettings: true,
    showFullscreen: true,
    theme: {
        colors: {
            primary: "",
            secondary: "",
            centerIconButtonColor: "",
            centerIconButtonHoverColor: "",
            iconButtonColor: "",
            iconButtonHoverColor: "",
            brandColor: "",
            progressBGColor: "",
            progressLoadedColor: "",
            settingsBGColor: "",
            settingsTextColor: "",
            settingsHoverColor: "",
            tooltipTextColor: "",
            tooltipBGColor: ""
        },
        spacing: {
            padding: "",
            margin: "",
            bottomBarSpacing: "",
            playerControlMargin: "",
            playerCornerRadius: "",
            centerIconButtonCornerRadius: "",
            centerIconButtonPadding: "",
            centerIconButtonSize: "",
            iconButtonCornerRadius: "",
            iconButtonPadding: "",
            iconButtonSize: "",
            progressBarHeight: "",
            progressBarHoverScale: ""
        }
    }
};
/**
 * @class SkaraPlayer
 */ class $882b6d93070905b3$var$SkaraPlayer {
    /**
   * @constructor
   * @param el - The html element where the player will be mounted
   * @param config - player options
   * @returns SkaraPlayer
   */ constructor(el, config = $882b6d93070905b3$var$defaultConfig){
        this.config = config;
        this.levelLoaded = false;
        this.showCtrls = ()=>{
            this._osdBar.show();
            this._toolBar.show();
        };
        this.hideCtrls = ()=>{
            this._osdBar.hide();
            this._toolBar.hide();
        };
        // Setting default variables
        this._prgsBar = null;
        this.events = {};
        this._isFullscreen = false;
        this.hls = null;
        // The the root element 
        // FIXME: This can be a `Node` or `string`
        if (el instanceof HTMLDivElement) this._root = el;
        else {
            const root = document.querySelector(`#${el}`);
            if (!root) throw new Error(`can not mount player on ${root}`);
            this._root = root;
        }
        this._root.classList.add((0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).root);
        // Theme from config
        // TODO: Need a better implimentation
        this._theme = config.theme || (0, $67d8bd73256b8650$export$bca14c5b3b88a9c9);
        // Set video element height and width if provided
        if (this.config.width) this._root.style.width = this.config.width;
        if (this.config.height) this._root.style.height = this.config.height;
        // Creating the Html5 video element
        this._videoEl = document.createElement("video");
        this._videoEl.autoplay = this.config.autoplay;
        this._videoEl.muted = this.config.muted;
        this._videoEl.loop = this.config.loop;
        this._videoEl.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).video;
        this._playBtn = new (0, $46f7d01faa656c4c$export$2e2bcd8739ae039)(this, this.config);
        this._volCtrl = new (0, $3785d75510de71a0$export$2e2bcd8739ae039)(this, this.config);
        this._watchTimer = new (0, $377e31a5ba35ba06$export$2e2bcd8739ae039)(this.config);
        this._setting = new (0, $d18add66a67b9387$export$2e2bcd8739ae039)(this, this.config);
        // Creating the OSD 
        this._osdBar = new (0, $c83f5f3839c07d7f$export$2e2bcd8739ae039)({
            left: [
                this._playBtn,
                this._volCtrl
            ],
            right: [
                this._setting
            ]
        });
        this._progressBar = new (0, $446161c6821b3737$export$2e2bcd8739ae039)(this, this._osdBar, this._videoEl, this.config);
        const progressContainerWrapper = new (0, $9da64be976acffb7$export$2e2bcd8739ae039)(this._progressBar, this._watchTimer);
        // Adding progess bar in the OSD
        // @ts-ignore
        this._osdBar.prepend(progressContainerWrapper);
        if (config?.theme) {
            const newtheme = document.querySelector(":root");
            const setRootVariables = (vars)=>Object.entries(vars).forEach((v)=>newtheme?.style?.setProperty(v[0], v[1]));
            const colorVariables = {
                // "--skaraVideoPrimaryColor": this.theme?.colors?.primary,
                "--skaraVideoPrimaryColor": this.theme?.colors?.primary,
                "--skaraVideoSecondaryColor": this.theme?.colors?.secondary,
                "--bottomBarSpacing": this.theme?.spacing?.bottomBarSpacing,
                "--playerControlMargin": this.theme?.spacing?.playerControlMargin,
                "--playerCornerRadius": this.theme?.spacing?.playerCornerRadius,
                "--centerIconButtonCornerRadius": this.theme?.spacing?.centerIconButtonCornerRadius,
                "--centerIconButtonPadding": this.theme?.spacing?.centerIconButtonPadding,
                "--centerIconButtonSize": this.theme?.spacing?.centerIconButtonSize,
                "--iconButtonCornerRadius": this.theme?.spacing?.iconButtonCornerRadius,
                "--iconButtonPadding": this.theme?.spacing?.iconButtonPadding,
                "--iconButtonSize": this.theme?.spacing?.iconButtonSize,
                "--progressBarHeight": this.theme?.spacing?.progressBarHeight,
                "--progressBarHoverScale": this.theme?.spacing?.progressBarHoverScale,
                "--centerIconButtonColor": this.theme?.colors?.centerIconButtonColor,
                "--centerIconButtonHoverColor": this.theme?.colors?.centerIconButtonHoverColor,
                "--iconButtonColor": this.theme?.colors?.iconButtonColor,
                "--iconButtonHoverColor": this.theme?.colors?.iconButtonHoverColor,
                "--brandColor": this.theme?.colors?.brandColor,
                "--progressBGColor": this.theme?.colors?.progressBGColor,
                "--progressLoadedColor": this.theme?.colors?.progressLoadedColor,
                "--settingsBGColor": this.theme?.colors?.settingsBGColor,
                "--settingsTextColor": this.theme?.colors?.settingsTextColor,
                "--settingsHoverColor": this.theme?.colors?.settingsHoverColor,
                "--tooltipTextColor": this.theme?.colors?.tooltipTextColor,
                "--tooltipBGColor": this.theme?.colors?.tooltipBGColor
            };
            setRootVariables(colorVariables);
        }
        // Attch the idle and inactivity checker
        window.onload = ()=>{
            this.idleHandler();
        };
        // The spinner while player waits for data
        this._spinner = new (0, $6b7e7dd6ea7722d9$export$2e2bcd8739ae039)();
        this._spinner.addTo(this._root);
        this._centerBtn = new (0, $a07e3b3f12dc1c9f$export$2e2bcd8739ae039)(this, this.config);
        this._root.appendChild(this._centerBtn.element);
        // Showing the center button at initial because player autoplay is off
        this._centerBtn.show();
        this._toolBar = new (0, $c65f764c0d1d3d8d$export$2e2bcd8739ae039)(new (0, $54d27da550dbb9b7$export$2e2bcd8739ae039)(this, this.config), this.config);
        // attaching events
        this.attachEventListeners();
        // Keyboard shortcuts
        this.detachKeyHandler = (0, $3406b1a6eea89003$export$fa56c4d672c0eb0a)(this);
        this._root.appendChild(this._videoEl);
        this._root.appendChild(this._osdBar.element);
        this._root.appendChild(this._toolBar.element);
        return this;
    }
    /**
   * Starts the player 
   */ async start() {
        this.idleHandler();
        // let fileType
        // const hlsarr = ["audio/x-mpegurl", "application/vnd.apple.mpegurl", "application/x-mpegurl"]
        // const r = await fetch(this.config.src, { method: 'HEAD' })
        // fileType = r.headers.get('Content-Type')
        if (this.config.mediaType === "m3u8") {
            if ((0, ($parcel$interopDefault($8zHUo$hlsjs))).isSupported()) {
                this.hls = new (0, ($parcel$interopDefault($8zHUo$hlsjs)))();
                this.hls.loadSource(this.config.src);
                this.hls.attachMedia(this._videoEl);
                this.hls.on((0, ($parcel$interopDefault($8zHUo$hlsjs))).Events.MEDIA_ATTACHED, function() {
                    console.log("video and hls.js are now bound together !");
                });
                this.hls.on((0, ($parcel$interopDefault($8zHUo$hlsjs))).Events.LEVEL_LOADED, ()=>{
                    if (this.levelLoaded) return;
                    const setting = this._setting.createWindow({
                        player: this,
                        levels: this.hls?.levels,
                        hls: this.hls
                    });
                    this._root.appendChild(setting);
                    this.levelLoaded = true;
                });
                this.hls.on((0, ($parcel$interopDefault($8zHUo$hlsjs))).Events.LEVEL_SWITCHED, ()=>{
                    // TODO: when fixed from setting itself remove this code
                    const activeIconWrapper = document.querySelectorAll(".iconWrapper");
                    activeIconWrapper.forEach((item)=>{
                        if (item.hasChildNodes()) item.firstChild?.remove();
                        if (item.getAttribute("data-id") === `quality_${this.hls?.currentLevel}`) {
                            const activeIcon = document.createElement("div");
                            activeIcon.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).indicatorIcon;
                            item.appendChild(activeIcon);
                        }
                    });
                    this._setting.quality = this.hls?.currentLevel;
                });
                this.hls.on((0, ($parcel$interopDefault($8zHUo$hlsjs))).Events.ERROR, (_, data)=>{
                    if (data.fatal) switch(data.type){
                        case (0, ($parcel$interopDefault($8zHUo$hlsjs))).ErrorTypes.NETWORK_ERROR:
                            // try to recover network error
                            console.log("fatal network error encountered, try to recover");
                            this.hls?.startLoad();
                            break;
                        case (0, ($parcel$interopDefault($8zHUo$hlsjs))).ErrorTypes.MEDIA_ERROR:
                            console.log("fatal media error encountered, try to recover");
                            this.hls?.recoverMediaError();
                            break;
                        default:
                            // cannot recover
                            this.hls?.destroy();
                            break;
                    }
                });
            } else console.log("Your browser does not support hls streaming");
        } else this._videoEl.src = this.config.src;
    }
    /**
   * @summary
   * Attach an event handler to the player instance 
   *
   * `loaded` - Fired when the frame at the current playback position of the media has finished loading; often the first frame.
   *
   * `metadataloade` - Fired when the metadata has been loaded
   *
   * `playing` - Fired when the video starts playing
   *
   * `paused` - Fired when the player is paused
   *
   * `ended` - Fired when when video has finished playing 
   *
   * `volumechange` - Fired when the player volume is changed
   *
   * `ratechange`  Fired when the playback rate has changed 
   *
   * `timeupdate` - Fired when the `currentTime` has changed 
   *
   * `waiting` - Fired when when the player is loading data or buffurring 
   *
   * `stalled` - Fired when the user agent is trying to fetch media data, but data is unexpectedly not forthcoming.
   *
   * `abort` -  Fired when the resource was not fully loaded, but not as the result of an error 
   *
   * `suspend` - Fired when media data loading has been suspended.
   *
   * @param event - Name of the event 
   * @param callback - The callback function for the event handler 
   */ on(event, callback) {
        this.events[event] = callback;
    }
    /**
   * @readonly
   * The root element of the player
   */ get root() {
        return this._root;
    }
    /**
  * @readonly Tells whether the is paused  
  */ get paused() {
        return this._videoEl.paused;
    }
    /**
   *  @summary
   *  Method will pause playback of the media, 
   *  if the media is already in a paused state this method will have no effect.
   */ pause() {
        return this._videoEl.pause();
    }
    /** 
   * @summary
   * Attempts to begin playback of the media. 
   * It returns a `Promise` which is resolved when playback has been successfully started. 
   */ play() {
        return this._videoEl.play();
    }
    dispose() {
        this.detachKeyHandler();
        this.hls?.destroy();
        this._videoEl.src = "";
        this._videoEl.load();
    }
    /**
   * @summary
   * Sets the rate at which the media is being played back. 
   * This is used to implement user controls for fast forward, slow motion, and so forth. 
   * The normal playback rate is multiplied by this value to obtain the current rate, 
   * so a value of `1.0` indicates normal speed.
   *
   * If `playbackRate` is negative, the media is not played backwards.
   * 
   * Accepted values must be between `025` to `2.0`
   */ get playbackRate() {
        return this._videoEl.playbackRate;
    }
    /**
   * @summary
   * Sets the rate at which the media is being played back. 
   * This is used to implement user controls for fast forward, slow motion, and so forth. 
   * The normal playback rate is multiplied by this value to obtain the current rate, 
   * so a value of `1.0` indicates normal speed.
   *
   * If `playbackRate` is negative, the media is not played backwards.
   * 
   * Accepted values must be between `025` to `2.0`
   */ set playbackRate(rate) {
        if (rate < .25 || rate > 2) throw new Error("playback rate must between .25 and 2");
        this._videoEl.playbackRate = rate;
    }
    /**
   * @readonly Indicates the length of the media in seconds.
   */ get duration() {
        return this._videoEl.duration;
    }
    /**
   * @summary
   * Specifies the current playback time of the media in seconds.
   * Changing the value `currentTime` will seek the media to new time.
   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/currentTime
   */ get currentTime() {
        return this._videoEl.currentTime;
    }
    /**
    * @summary
    * Specifies the current playback time of the media in seconds.
    * Changing the value `currentTime` will seek the media to new time.
    * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/currentTime
    */ set currentTime(time) {
        if (time < 0) throw new Error("Error setting currentTime: time can not be less then 0");
        if (time > this.duration) throw new Error("Error setting currentTime: time exceeded");
        this._videoEl.currentTime = time;
    }
    /**
   * @summary 
   * Seeks the media in forward
   *
   * @param step - The number of seconds the go forward
   */ seekForward(step = (0, $3307b9ff306c97ee$export$a8985e66a5ecd24f)) {
        if (this.currentTime + step > this.duration) return;
        this._videoEl.currentTime = this.currentTime + step;
    }
    /**
     * @summary 
     * Seeks the media in backward
     *
     * @param step - The number of seconds the go backward
     */ seekBackward(step = (0, $3307b9ff306c97ee$export$a8985e66a5ecd24f)) {
        if (this.currentTime - step <= 0) return;
        this._videoEl.currentTime = this.currentTime - step;
    }
    /**
   * @summary
   * Sets and Gets the volume at which the media will be played 
   * A `double` value must fall between `0` and `1`
   * where `0` is effectively muted and `1` is the loudest possible value 
   */ get volume() {
        return this._videoEl.volume;
    }
    /**
    * @summary
    * Sets and Gets the volume at which the media will be played 
    * A `double` value must fall between `0` and `1`
    * where `0` is effectively muted and `1` is the loudest possible value 
    */ set volume(vol) {
        if (vol < 0 || vol > 1) throw new Error("volume must be number between 0 and 1");
        this._videoEl.volume = vol;
    }
    /**
   * @summary 
   * Sets and Gets whether the player is muted
   * A `true` value means the player is muted 
   */ get muted() {
        return this._videoEl.muted;
    }
    /**
   * @summary 
   * Sets and Gets whether the player is muted
   * A `true` value means the player is muted 
   */ set muted(val) {
        this._videoEl.muted = val;
    }
    /**
   * @summary
   * Indiates whether the media playback has ended or not 
   * A `true` value indicates the playback has ended
   */ get ended() {
        return this._videoEl.ended;
    }
    /**
   * @summary 
   * Increased the playback volume 
   * @param step - The value to increase volume
   */ incVolume(step = (0, $3307b9ff306c97ee$export$875103b50cfe73aa)) {
        if (this.volume === 1) return;
        // Calculating correct vol by avoiding floating point precision error
        const vol = (step * (0, $3307b9ff306c97ee$export$6ca0df4b87f62c7c) + this.volume * (0, $3307b9ff306c97ee$export$6ca0df4b87f62c7c)) / (0, $3307b9ff306c97ee$export$6ca0df4b87f62c7c);
        if (this.muted) this.muted = !this.muted;
        this.volume = vol;
    }
    /**
     * @summary 
     * Decreses the playback volume 
     * @param step - The value to decrease volume
     */ decVolume(step = (0, $3307b9ff306c97ee$export$875103b50cfe73aa)) {
        if (this.volume <= 0) {
            this.muted = true;
            return;
        }
        // Calculating correct vol by avoiding floating point precision error
        const vol = (this.volume * (0, $3307b9ff306c97ee$export$6ca0df4b87f62c7c) - step * (0, $3307b9ff306c97ee$export$6ca0df4b87f62c7c)) / (0, $3307b9ff306c97ee$export$6ca0df4b87f62c7c);
        this.volume = vol;
    }
    /**
  * This method check for idle and inactive in the browser and hides and show osd 
  */ idleHandler() {
        let time;
        const resetTimer = ()=>{
            clearTimeout(time);
            time = setTimeout(this.hideCtrls, 3000);
        // 1000 milliseconds = 1 second
        };
        // window.onload = resetTimer;
        // DOM Events
        //window.addEventListener('load', resetTimer, true);
        const events = [
            "mousedown",
            "mousemove",
            "keypress",
            "scroll",
            "touchstart"
        ];
        events.forEach(function(name) {
            document.addEventListener(name, resetTimer, true);
        });
        this._osdBar.element.addEventListener("mouseenter", ()=>{
            this.showCtrls();
            clearTimeout(time);
        });
        this._osdBar.element.addEventListener("mouseleave", ()=>{
            this.hideCtrls();
            resetTimer();
        });
        this._osdBar.element.addEventListener("mousemove", ()=>{
            this.showCtrls();
            clearTimeout(time);
        });
        this._toolBar.element.addEventListener("mouseenter", ()=>{
            this.showCtrls();
            clearTimeout(time);
        });
        this._toolBar.element.addEventListener("mouseleave", ()=>{
            this.hideCtrls();
            resetTimer();
        });
        this._toolBar.element.addEventListener("mousemove", ()=>{
            this.showCtrls();
            clearTimeout(time);
        });
        this._videoEl.addEventListener("mouseenter", ()=>{
            if (window.navigator.maxTouchPoints > 0) return;
            this.showCtrls();
        });
        this._videoEl.addEventListener("mouseleave", ()=>{
            this.hideCtrls();
        });
        this._videoEl.addEventListener("mousemove", ()=>{
            if (window.navigator.maxTouchPoints > 0) return;
            this.showCtrls();
        });
    }
    getProgressBarEl() {
        return this._prgsBar;
    }
    // FIXME: Can we do it better that a setter method?
    setProgressBarEl(el) {
        this._prgsBar = el;
    }
    get isFullscreen() {
        return this._isFullscreen;
    }
    async toggleFullScreen() {
        try {
            if (document.fullscreenElement) {
                await document.exitFullscreen();
                this._isFullscreen = false;
            } else {
                await this.root.requestFullscreen();
                this._isFullscreen = true;
            }
        } catch (e) {
            // TODO: must be a toast message 
            console.log(e);
        }
    }
    get theme() {
        return this._theme;
    }
    attachEventListeners() {
        document.addEventListener("click", (e)=>{
            const target = e.target;
            if (this._setting.innerElement.isSameNode(target)) return;
            if (this._setting.contains(target)) return;
            if (this._setting.popupVisible) this._setting.hide();
        });
        this._videoEl.addEventListener("click", (_)=>{
            if (this._setting.popupVisible) return;
            if (!this._toolBar.visible || !this._osdBar.visible) {
                this.showCtrls();
                return;
            }
            this._videoEl.paused ? this.play() : this.pause();
        });
        this._videoEl.addEventListener("touch", (_)=>{
            if (this._setting.popupVisible) return;
            if (!this._toolBar.visible || !this._osdBar.visible) {
                this.showCtrls();
                return;
            }
            this._videoEl.paused ? this.play() : this.pause();
        });
        this._videoEl.addEventListener("dblclick", ()=>{
            if (document.fullscreenElement) document.exitFullscreen();
            else this._root.requestFullscreen();
        });
        this._videoEl.addEventListener("loadedmetadata", ()=>{
            this.events.metadataloaded && this.events.metadataloaded();
        });
        this._videoEl.addEventListener("canplay", ()=>{
            this._spinner.hide();
        });
        this._videoEl.addEventListener("volumechange", ()=>{
            this._volCtrl.update(this);
            this.events.volumechange && this.events.volumechange();
        });
        this._videoEl.addEventListener("play", ()=>{
            this._spinner.hide();
            this._playBtn.changeIcon((0, $68df73fce0f18379$export$a2d8b23205c25948).PauseIcon);
            this._centerBtn.hide();
            this.events.playing && this.events.playing();
        });
        this._videoEl.addEventListener("pause", ()=>{
            this._playBtn.changeIcon((0, $68df73fce0f18379$export$a2d8b23205c25948).PlayIcon);
            this._centerBtn.show();
            this.events.pause && this.events.pause();
        });
        this._videoEl.addEventListener("ended", ()=>{
            this._playBtn.changeIcon((0, $68df73fce0f18379$export$a2d8b23205c25948).ReplayIcon);
            this.events.ended && this.events.ended();
        });
        this._videoEl.addEventListener("loadeddata", ()=>{
            console.log("video loaded");
            this._watchTimer.setDuration(this.duration);
            this._spinner.hide();
            this.events.loaded && this.events.loaded();
        });
        this._videoEl.addEventListener("ratechange", ()=>{
            const activeIconWrapper = document.querySelectorAll(".currSpeed");
            activeIconWrapper.forEach((item)=>{
                if (item.hasChildNodes()) item.firstChild?.remove();
                if (item.getAttribute("data-id") === `speed_${this.playbackRate}`) {
                    const activeIcon = document.createElement("div");
                    activeIcon.className = (0, (/*@__PURE__*/$parcel$interopDefault($ca9df0d41c4591c9$exports))).indicatorIcon;
                    item.appendChild(activeIcon);
                }
            });
            this._setting.playbackRate = this.playbackRate;
            this.events.ratechange && this.events.ratechange();
        });
        // Showing playing time
        this._videoEl.addEventListener("timeupdate", ()=>{
            this._watchTimer.setCurrentTime(this.currentTime);
            this._progressBar.update(this, this.currentTime);
            this.events.timeupdate && this.events.timeupdate();
        });
        this._videoEl.addEventListener("waiting", (_)=>{
            console.log("waitng");
            this._centerBtn.hide();
            this._spinner.show();
            this.events.waiting && this.events.waiting();
        });
        this._videoEl.addEventListener("abort", ()=>{
            this.events.abort && this.events.abort();
        });
        this._videoEl.addEventListener("suspend", ()=>{
            this.events.suspend && this.events.suspend();
        });
        this._videoEl.addEventListener("stalled", ()=>{
            this.events.stalled && this.events.stalled();
        });
    }
}
var $882b6d93070905b3$export$2e2bcd8739ae039 = $882b6d93070905b3$var$SkaraPlayer;


//# sourceMappingURL=index.js.map
