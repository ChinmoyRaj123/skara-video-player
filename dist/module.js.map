{"mappings":"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","sources":["src/index.ts","src/style.module.css","src/theme.ts","src/keyboard-shortcut.ts","src/constant.ts","src/controlls/play-button.ts","src/components/play-button.ts","src/icons.ts","node_modules/@parcel/runtime-js/lib/runtime-7ff7526f34e968a3.js","node_modules/@parcel/runtime-js/lib/runtime-b6612de371e6cc25.js","node_modules/@parcel/runtime-js/lib/runtime-69b6bb4e6609dd65.js","node_modules/@parcel/runtime-js/lib/runtime-86879145505eebd0.js","node_modules/@parcel/runtime-js/lib/runtime-920d912923358aea.js","node_modules/@parcel/runtime-js/lib/runtime-fd2a060d2daf145d.js","node_modules/@parcel/runtime-js/lib/runtime-c01026cdec2ca86d.js","node_modules/@parcel/runtime-js/lib/runtime-331dc4d5e42e402d.js","node_modules/@parcel/runtime-js/lib/runtime-2b0e395c57f1d3bc.js","node_modules/@parcel/runtime-js/lib/runtime-bc212c1aa328da38.js","node_modules/@parcel/runtime-js/lib/runtime-82d931c1eccd4262.js","node_modules/@parcel/runtime-js/lib/runtime-d177d16a1f7cb543.js","node_modules/@parcel/runtime-js/lib/runtime-39e6caebd47a56cd.js","node_modules/@parcel/runtime-js/lib/runtime-98405057b6122a3c.js","node_modules/@parcel/runtime-js/lib/runtime-1e38723cf3e1c9ac.js","node_modules/@parcel/runtime-js/lib/runtime-0e1d7ae43c427db5.js","node_modules/@parcel/runtime-js/lib/runtime-13933db5f1efdaad.js","node_modules/@parcel/runtime-js/lib/runtime-1e355052caefad2e.js","node_modules/@parcel/runtime-js/lib/runtime-d1a83a7482d76c94.js","node_modules/@parcel/runtime-js/lib/runtime-b257e30df97555ef.js","node_modules/@parcel/runtime-js/lib/runtime-55764f1c4e8ad07c.js","node_modules/@parcel/runtime-js/lib/runtime-0505aa686f89adba.js","node_modules/@parcel/runtime-js/lib/runtime-a9b8ecebcb536fb2.js","node_modules/@parcel/runtime-js/lib/runtime-2235714d6ead471e.js","src/controlls/full-src-button.ts","src/controlls/volume-controll.ts","src/controlls/osd.ts","src/controlls/watch-timer.ts","src/helper.ts","src/controlls/progress-bar.ts","src/controlls/setting.ts","src/controlls/spinner.ts","src/controlls/center-button.ts","src/controlls/progress-container-wrapper.ts","src/controlls/tool-bar.ts"],"sourcesContent":["import styles from \"./style.module.css\"\nimport Hls, { Level } from \"hls.js\"\nimport { theme, Theme } from \"./theme\"\n\nimport { AttachKeyboardShortcuts } from \"./keyboard-shortcut\"\nimport { SEEK_TIME_STEP, VOL_CF, VOL_CHANGE_STEP } from \"./constant\"\nimport PlayButton from \"./controlls/play-button\"\nimport { Material } from \"./icons\"\nimport FullSrcCtrl from \"./controlls/full-src-button\"\nimport VolumeController from \"./controlls/volume-controll\"\nimport Osd from \"./controlls/osd\"\nimport WatchTimer from \"./controlls/watch-timer\"\nimport ProgressBar from \"./controlls/progress-bar\"\nimport SettingControl from \"./controlls/setting\"\nimport Spinner from \"./controlls/spinner\"\nimport CenterButton from \"./controlls/center-button\"\nimport PrgsContainerWrapper from \"./controlls/progress-container-wrapper\"\nimport Toolbar from \"./controlls/tool-bar\"\nimport OrientationLock from \"./controlls/orientation\"\n\nexport type PlayerConfig = {\n  src: string\n  height?: string\n  width?: string\n  theme?: Theme\n  title: string\n  autoplay: boolean\n  muted: boolean\n  loop: boolean\n  showPlayPause: boolean\n  showProgressBar: boolean\n  showTimestamp: boolean\n  showVolumeBar: boolean\n  showVideoTitle: boolean\n  showSettings: boolean\n  showFullscreen: boolean\n}\n\ntype EventName = 'loaded' |\n  'metadataloaded' |\n  'playing' |\n  'pause' |\n  'ended' |\n  'volumechange' |\n  'ratechange' |\n  'timeupdate' |\n  'waiting' |\n  'stalled' |\n  'abort' |\n  'suspend';\n\nconst defaultConfig: PlayerConfig = {\n  title: \"\",\n  src: \"\",\n  autoplay: false,\n  muted: false,\n  loop: false,\n  showPlayPause: true,\n  showProgressBar: true,\n  showTimestamp: true,\n  showVolumeBar: true,\n  showVideoTitle: true,\n  showSettings: true,\n  showFullscreen: true,\n  theme: {\n    colors: {\n      primary: \"\",\n      secondary: \"\",\n      centerIconButtonColor: \"\",\n      centerIconButtonHoverColor: \"\",\n      iconButtonColor: \"\",\n      iconButtonHoverColor: \"\",\n      brandColor: \"\",\n      progressBGColor: \"\",\n      progressLoadedColor: \"\",\n      settingsBGColor: \"\",\n      settingsTextColor: \"\",\n      settingsHoverColor: \"\",\n      tooltipTextColor: \"\",\n      tooltipBGColor: \"\",\n    },\n    spacing: {\n      padding: \"\",\n      margin: \"\",\n      bottomBarSpacing: \"\",\n      playerControlMargin: \"\",\n      playerCornerRadius: \"\",\n      centerIconButtonCornerRadius: \"\",\n      centerIconButtonPadding: \"\",\n      iconButtonCornerRadius: \"\",\n      iconButtonPadding: \"\",\n      progressBarHeight: \"\",\n      progressBarHoverScale: \"\"\n    },\n  }\n}\n/**\n * @class SkaraPlayer\n */\nclass SkaraPlayer {\n  /**\n  * The `videoEl` parent element. This is the root element of the player\n  */\n  private _root: HTMLDivElement\n\n  /**\n  * The Html5 video element\n  */\n  private _videoEl: HTMLVideoElement;\n\n  private hls: Hls | null\n\n  /**\n  * Set when hls levels are loaded for the time \n  * This is used to not to create level change every time `LEVEL_LOADED` event\n  * fired\n  */\n  private levelLoaded = false\n\n\n  private _theme: Theme;\n\n  /**\n  * The pogress bar inside the osd. \n  * This is the bar which actually changes its background with time change\n  */\n  public _prgsBar: HTMLDivElement | null\n\n  /** \n  * The whole OSD bar element. The parent of progess bar and other control elements\n  */\n  public _osdBar: Osd;\n\n  // Controlls and Components\n  public _playBtn: PlayButton;\n  public _volCtrl: VolumeController;\n  public _watchTimer: WatchTimer;\n  public _progressBar: ProgressBar;\n  public _setting: SettingControl;\n  public _centerBtn: CenterButton;\n  public _spinner: Spinner;\n  public _toolBar: Toolbar;\n\n  private detachKeyHandler;\n\n  public _isFullscreen: boolean\n\n\n  // Events\n  private events: { [k in EventName]?: () => void }\n\n  /**\n   * @constructor\n   * @param el - The html element where the player will be mounted\n   * @param config - player options\n   * @returns SkaraPlayer\n   */\n  constructor(el: HTMLDivElement | string, public config: PlayerConfig = defaultConfig) {\n\n    // Setting default variables\n    this._prgsBar = null;\n    this.events = {}\n    this._isFullscreen = false;\n    this.hls = null;\n\n\n    // The the root element \n    // FIXME: This can be a `Node` or `string`\n    if (el instanceof HTMLDivElement) {\n      this._root = el;\n    } else {\n      const root = document.querySelector<HTMLDivElement>(`#${el}`);\n      if (!root) throw new Error(`can not mount player on ${root}`);\n      this._root = root\n    }\n    this._root.classList.add(styles.root)\n\n    // Theme from config\n    // TODO: Need a better implimentation\n    this._theme = config.theme || theme\n\n    // Set video element height and width if provided\n    if (this.config.width) this._root.style.width = this.config.width;\n    if (this.config.height) this._root.style.height = this.config.height;\n\n\n    // Creating the Html5 video element\n    this._videoEl = document.createElement('video')\n    this._videoEl.autoplay = this.config.autoplay\n    this._videoEl.muted = this.config.muted\n    this._videoEl.loop = this.config.loop\n    this._videoEl.className = styles.video\n\n    this._playBtn = new PlayButton(this, this.config);\n    this._volCtrl = new VolumeController(this, this.config);\n    this._watchTimer = new WatchTimer(this.config);\n    this._setting = new SettingControl(this, this.config);\n\n\n    // Creating the OSD \n    this._osdBar = new Osd({\n      left: [this._playBtn, this._volCtrl],\n      right: [\n        this._setting,\n      ]\n    })\n\n    this._progressBar = new ProgressBar(this, this._osdBar, this._videoEl, this.config);\n    const progressContainerWrapper = new PrgsContainerWrapper(this._progressBar, this._watchTimer)\n\n    // Adding progess bar in the OSD\n    // @ts-ignore\n    this._osdBar.prepend(progressContainerWrapper)\n\n    if (config?.theme) {\n      const newtheme = document.querySelector(':root') as HTMLElement;\n      const setRootVariables = (vars: Record<string, string>) => Object.entries(vars).forEach(v => newtheme?.style?.setProperty(v[0], v[1]));\n      const colorVariables = {\n        // \"--skaraVideoPrimaryColor\": this.theme?.colors?.primary,\n        \"--skaraVideoPrimaryColor\": this.theme?.colors?.primary,\n        \"--skaraVideoSecondaryColor\": this.theme?.colors?.secondary,\n\n        \"--bottomBarSpacing\": this.theme?.spacing?.bottomBarSpacing,\n        \"--playerControlMargin\": this.theme?.spacing?.playerControlMargin,\n        \"--playerCornerRadius\": this.theme?.spacing?.playerCornerRadius,\n        \"--centerIconButtonCornerRadius\": this.theme?.spacing?.centerIconButtonCornerRadius,\n        \"--centerIconButtonPadding\": this.theme?.spacing?.centerIconButtonPadding,\n        \"--iconButtonCornerRadius\": this.theme?.spacing?.iconButtonCornerRadius,\n        \"--iconButtonPadding\": this.theme?.spacing?.iconButtonPadding,\n        \"--progressBarHeight\": this.theme?.spacing?.progressBarHeight,\n        \"--progressBarHoverScale\": this.theme?.spacing?.progressBarHoverScale,\n\n        \"--centerIconButtonColor\": this.theme?.colors?.centerIconButtonColor,\n        \"--centerIconButtonHoverColor\": this.theme?.colors?.centerIconButtonHoverColor,\n        \"--iconButtonColor\": this.theme?.colors?.iconButtonColor,\n        \"--iconButtonHoverColor\": this.theme?.colors?.iconButtonHoverColor,\n        \"--brandColor\": this.theme?.colors?.brandColor,\n        \"--progressBGColor\": this.theme?.colors?.progressBGColor,\n        \"--progressLoadedColor\": this.theme?.colors?.progressLoadedColor,\n        \"--settingsBGColor\": this.theme?.colors?.settingsBGColor,\n        \"--settingsTextColor\": this.theme?.colors?.settingsTextColor,\n        \"--settingsHoverColor\": this.theme?.colors?.settingsHoverColor,\n        \"--tooltipTextColor\": this.theme?.colors?.tooltipTextColor,\n        \"--tooltipBGColor\": this.theme?.colors?.tooltipBGColor,\n\n      }\n      setRootVariables(colorVariables)\n    }\n\n    // Attch the idle and inactivity checker\n    window.onload = () => this.idleHandler();\n\n    // The spinner while player waits for data\n    this._spinner = new Spinner();\n    this._spinner.addTo(this._root)\n\n    this._centerBtn = new CenterButton(this, this.config);\n    this._root.appendChild(this._centerBtn.element);\n    // Showing the center button at initial because player autoplay is off\n    this._centerBtn.show();\n\n    this._toolBar = new Toolbar(new FullSrcCtrl(this, this.config), this.config);\n    // attaching events\n    this.attachEventListeners();\n\n    // Keyboard shortcuts\n    this.detachKeyHandler = AttachKeyboardShortcuts(this);\n\n    this._root.appendChild(this._videoEl);\n    this._root.appendChild(this._osdBar.element);\n    this._root.appendChild(this._toolBar.element);\n    return this\n  }\n\n  /**\n   * Starts the player \n   */\n  async start() {\n    // let fileType\n    // const hlsarr = [\"audio/x-mpegurl\", \"application/vnd.apple.mpegurl\", \"application/x-mpegurl\"]\n    // const r = await fetch(this.config.src, { method: 'HEAD' })\n    // fileType = r.headers.get('Content-Type')\n    // if (hlsarr.includes(fileType?.toLowerCase() as string)) {\n    if (Hls.isSupported()) {\n      this.hls = new Hls()\n      this.hls.loadSource(this.config.src)\n      this.hls.attachMedia(this._videoEl)\n      this.hls.on(Hls.Events.MEDIA_ATTACHED, function () {\n        console.log('video and hls.js are now bound together !');\n      });\n      this.hls.on(Hls.Events.LEVEL_LOADED, () => {\n        if (this.levelLoaded) return\n        const setting = this._setting.createWindow({ player: this, levels: this.hls?.levels, hls: this.hls as Hls })\n        this._root.appendChild(setting)\n        this.levelLoaded = true\n      });\n\n      this.hls.on(Hls.Events.LEVEL_SWITCHED, () => {\n        // TODO: when fixed from setting itself remove this code\n        const activeIconWrapper = document.querySelectorAll(\".iconWrapper\")\n        activeIconWrapper.forEach((item) => {\n          if (item.hasChildNodes()) {\n            item.firstChild?.remove()\n          }\n          if (item.getAttribute('data-id') === `quality_${this.hls?.currentLevel}`) {\n            const activeIcon = document.createElement('div');\n            activeIcon.className = styles.indicatorIcon\n            item.appendChild(activeIcon)\n          }\n        });\n        this._setting.quality = this.hls?.currentLevel as number;\n      })\n\n      this.hls.on(Hls.Events.ERROR, (_, data) => {\n        if (data.fatal) {\n          switch (data.type) {\n            case Hls.ErrorTypes.NETWORK_ERROR:\n              // try to recover network error\n              console.log('fatal network error encountered, try to recover');\n              this.hls?.startLoad();\n              break;\n            case Hls.ErrorTypes.MEDIA_ERROR:\n              console.log('fatal media error encountered, try to recover');\n              this.hls?.recoverMediaError();\n              break;\n            default:\n              // cannot recover\n              this.hls?.destroy();\n              break;\n          }\n        }\n      });\n    } else {\n      console.log(\"Your browser does not support hls streaming\")\n    }\n    // } else {\n    //   this._videoEl.src = this.config.src\n    // }\n  }\n\n  /**\n   * @summary\n   * Attach an event handler to the player instance \n   *\n   * `loaded` - Fired when the frame at the current playback position of the media has finished loading; often the first frame.\n   *\n   * `metadataloade` - Fired when the metadata has been loaded\n   *\n   * `playing` - Fired when the video starts playing\n   *\n   * `paused` - Fired when the player is paused\n   *\n   * `ended` - Fired when when video has finished playing \n   *\n   * `volumechange` - Fired when the player volume is changed\n   *\n   * `ratechange`  Fired when the playback rate has changed \n   *\n   * `timeupdate` - Fired when the `currentTime` has changed \n   *\n   * `waiting` - Fired when when the player is loading data or buffurring \n   *\n   * `stalled` - Fired when the user agent is trying to fetch media data, but data is unexpectedly not forthcoming.\n   *\n   * `abort` -  Fired when the resource was not fully loaded, but not as the result of an error \n   *\n   * `suspend` - Fired when media data loading has been suspended.\n   *\n   * @param event - Name of the event \n   * @param callback - The callback function for the event handler \n   */\n  public on(event: EventName, callback: () => void) {\n    this.events[event] = callback\n  }\n\n  /**\n   * @readonly\n   * The root element of the player\n   */\n  public get root() {\n    return this._root\n  }\n\n  /**\n  * @readonly Tells whether the is paused  \n  */\n  public get paused() {\n    return this._videoEl.paused\n  }\n  /**\n   *  @summary\n   *  Method will pause playback of the media, \n   *  if the media is already in a paused state this method will have no effect.\n   */\n  public pause() {\n    return this._videoEl.pause()\n  }\n\n  /** \n   * @summary\n   * Attempts to begin playback of the media. \n   * It returns a `Promise` which is resolved when playback has been successfully started. \n   */\n  public play() {\n    return this._videoEl.play();\n  }\n\n  public dispose() {\n    this.detachKeyHandler();\n    this.hls?.destroy();\n    this._videoEl.src = \"\";\n    this._videoEl.load()\n  }\n\n  /**\n   * @summary\n   * Sets the rate at which the media is being played back. \n   * This is used to implement user controls for fast forward, slow motion, and so forth. \n   * The normal playback rate is multiplied by this value to obtain the current rate, \n   * so a value of `1.0` indicates normal speed.\n   *\n   * If `playbackRate` is negative, the media is not played backwards.\n   * \n   * Accepted values must be between `025` to `2.0`\n   */\n  public get playbackRate() {\n    return this._videoEl.playbackRate;\n  }\n\n  /**\n   * @summary\n   * Sets the rate at which the media is being played back. \n   * This is used to implement user controls for fast forward, slow motion, and so forth. \n   * The normal playback rate is multiplied by this value to obtain the current rate, \n   * so a value of `1.0` indicates normal speed.\n   *\n   * If `playbackRate` is negative, the media is not played backwards.\n   * \n   * Accepted values must be between `025` to `2.0`\n   */\n  public set playbackRate(rate: number) {\n    if (rate < .25 || rate > 2) {\n      throw new Error(\"playback rate must between .25 and 2\");\n    }\n    this._videoEl.playbackRate = rate\n  }\n\n  /**\n   * @readonly Indicates the length of the media in seconds.\n   */\n  public get duration() {\n    return this._videoEl.duration;\n  }\n\n  /**\n   * @summary\n   * Specifies the current playback time of the media in seconds.\n   * Changing the value `currentTime` will seek the media to new time.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/currentTime\n   */\n  public get currentTime() {\n    return this._videoEl.currentTime\n  }\n\n  /**\n    * @summary\n    * Specifies the current playback time of the media in seconds.\n    * Changing the value `currentTime` will seek the media to new time.\n    * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/currentTime\n    */\n  public set currentTime(time: number) {\n    if (time < 0) {\n      throw new Error(\"Error setting currentTime: time can not be less then 0\");\n    }\n\n    if (time > this.duration) {\n      throw new Error(\"Error setting currentTime: time exceeded\");\n    }\n    this._videoEl.currentTime = time;\n  }\n\n  /**\n   * @summary \n   * Seeks the media in forward\n   *\n   * @param step - The number of seconds the go forward\n   */\n  public seekForward(step: number = SEEK_TIME_STEP) {\n    if (this.currentTime + step > this.duration) return;\n    this._videoEl.currentTime = this.currentTime + step;\n  }\n  /**\n     * @summary \n     * Seeks the media in backward\n     *\n     * @param step - The number of seconds the go backward\n     */\n  public seekBackward(step: number = SEEK_TIME_STEP) {\n    if (this.currentTime - step <= 0) return;\n    this._videoEl.currentTime = this.currentTime - step;\n  }\n\n  /**\n   * @summary\n   * Sets and Gets the volume at which the media will be played \n   * A `double` value must fall between `0` and `1`\n   * where `0` is effectively muted and `1` is the loudest possible value \n   */\n  public get volume() {\n    return this._videoEl.volume;\n  }\n\n  /**\n    * @summary\n    * Sets and Gets the volume at which the media will be played \n    * A `double` value must fall between `0` and `1`\n    * where `0` is effectively muted and `1` is the loudest possible value \n    */\n  public set volume(vol: number) {\n    if (vol < 0 || vol > 1) throw new Error(\"volume must be number between 0 and 1\");\n    this._videoEl.volume = vol\n  }\n\n  /**\n   * @summary \n   * Sets and Gets whether the player is muted\n   * A `true` value means the player is muted \n   */\n  public get muted() {\n    return this._videoEl.muted;\n  }\n\n  /**\n   * @summary \n   * Sets and Gets whether the player is muted\n   * A `true` value means the player is muted \n   */\n  public set muted(val: boolean) {\n    this._videoEl.muted = val;\n  }\n\n  /**\n   * @summary\n   * Indiates whether the media playback has ended or not \n   * A `true` value indicates the playback has ended\n   */\n  public get ended() {\n    return this._videoEl.ended;\n  }\n\n  /**\n   * @summary \n   * Increased the playback volume \n   * @param step - The value to increase volume\n   */\n  public incVolume(step = VOL_CHANGE_STEP) {\n    if (this.volume === 1) return\n    // Calculating correct vol by avoiding floating point precision error\n    const vol = ((step * VOL_CF) + (this.volume * VOL_CF)) / VOL_CF;\n    if (this.muted) this.muted = !this.muted\n    this.volume = vol\n  }\n  /**\n     * @summary \n     * Decreses the playback volume \n     * @param step - The value to decrease volume\n     */\n  public decVolume(step = VOL_CHANGE_STEP) {\n    if (this.volume <= 0) {\n      this.muted = true;\n      return;\n    }\n    // Calculating correct vol by avoiding floating point precision error\n    const vol = ((this.volume * VOL_CF) - (step * VOL_CF)) / VOL_CF;\n    this.volume = vol\n  }\n\n  public showCtrls = () => {\n    this._osdBar.show();\n    this._toolBar.show();\n  }\n\n  public hideCtrls = () => {\n    this._osdBar.hide();\n    this._toolBar.hide();\n  }\n\n  /**\n  * This method check for idle and inactive in the browser and hides and show osd \n  */\n  public idleHandler() {\n    let time: number;\n    const resetTimer = () => {\n      clearTimeout(time);\n      time = setTimeout(this.hideCtrls, 3000)\n      // 1000 milliseconds = 1 second\n    }\n    // window.onload = resetTimer;\n    // DOM Events\n    //window.addEventListener('load', resetTimer, true);\n    const events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'];\n    events.forEach(function (name) {\n      document.addEventListener(name, resetTimer, true);\n    });\n    this._osdBar.element.addEventListener('mouseenter', () => {\n      this.showCtrls()\n      clearTimeout(time)\n    })\n    this._osdBar.element.addEventListener('mouseleave', () => {\n      this.hideCtrls()\n      resetTimer()\n    })\n    this._osdBar.element.addEventListener('mousemove', () => {\n      this.showCtrls()\n      clearTimeout(time)\n    })\n    this._toolBar.element.addEventListener('mouseenter', () => {\n      this.showCtrls()\n      clearTimeout(time)\n    })\n    this._toolBar.element.addEventListener('mouseleave', () => {\n      this.hideCtrls()\n      resetTimer()\n    })\n    this._toolBar.element.addEventListener('mousemove', () => {\n      this.showCtrls()\n      clearTimeout(time)\n    })\n\n    this._videoEl.addEventListener('mouseenter', () => {\n      if (window.navigator.maxTouchPoints > 0) return;\n      this.showCtrls();\n    })\n    this._videoEl.addEventListener('mouseleave', () => this.hideCtrls())\n    this._videoEl.addEventListener('mousemove', () => {\n      if (window.navigator.maxTouchPoints > 0) return;\n      this.showCtrls();\n    })\n  };\n\n\n  public getProgressBarEl() {\n    return this._prgsBar\n  }\n\n\n  // FIXME: Can we do it better that a setter method?\n  public setProgressBarEl(el: HTMLDivElement) {\n    this._prgsBar = el\n  }\n\n  public get isFullscreen() {\n    return this._isFullscreen;\n  }\n\n  public async toggleFullScreen() {\n    try {\n      if (document.fullscreenElement) {\n        await document.exitFullscreen()\n        this._isFullscreen = false\n      } else {\n        await this.root.requestFullscreen()\n        this._isFullscreen = true\n      }\n    } catch (e) {\n      // TODO: must be a toast message \n      console.log(e)\n    }\n  }\n\n  public get theme() {\n    return this._theme;\n  }\n\n  private attachEventListeners() {\n    document.addEventListener('click', (e) => {\n      const target = e.target;\n\n      if (this._setting.element.isSameNode(target as HTMLElement)) return;\n\n      if (this._setting.contains(target as HTMLElement)) {\n        return;\n      }\n\n      // if (this._setting.popupVisible) {\n      //   this._setting.hide();\n      // }\n    });\n\n    this._videoEl.addEventListener('click', (_) => {\n      if (this._setting.popupVisible) return;\n\n      if (!this._toolBar.visible || !this._osdBar.visible) {\n        this.showCtrls();\n        return;\n      }\n\n      this._videoEl.paused ? this.play() : this.pause();\n    });\n\n    this._videoEl.addEventListener('touch', (_) => {\n      if (this._setting.popupVisible) return;\n\n      if (!this._toolBar.visible || !this._osdBar.visible) {\n        this.showCtrls();\n        return;\n      }\n\n      this._videoEl.paused ? this.play() : this.pause();\n    });\n\n\n    this._videoEl.addEventListener('dblclick', () => {\n      if (document.fullscreenElement) {\n        document.exitFullscreen()\n      } else {\n        this._root.requestFullscreen()\n      }\n    });\n\n    this._videoEl.addEventListener('loadedmetadata', () => {\n      this.events.metadataloaded && this.events.metadataloaded();\n    })\n\n    this._videoEl.addEventListener('canplay', () => {\n      this._spinner.hide()\n    });\n\n    this._videoEl.addEventListener('volumechange', () => {\n      this._volCtrl.update(this);\n      this.events.volumechange && this.events.volumechange();\n    });\n\n    this._videoEl.addEventListener('play', () => {\n      this._spinner.hide();\n      this._playBtn.changeIcon(Material.PauseIcon);\n      this._centerBtn.hide();\n      this.events.playing && this.events.playing()\n    });\n\n    this._videoEl.addEventListener('pause', () => {\n      this._playBtn.changeIcon(Material.PlayIcon)\n      this._centerBtn.show();\n      this.events.pause && this.events.pause()\n    });\n\n    this._videoEl.addEventListener('ended', () => {\n      this._playBtn.changeIcon(Material.ReplayIcon);\n      this.events.ended && this.events.ended()\n    })\n\n    this._videoEl.addEventListener('loadeddata', () => {\n      console.log('video loaded')\n      this._watchTimer.setDuration(this.duration);\n      this._spinner.hide()\n      this.events.loaded && this.events.loaded()\n    });\n\n    this._videoEl.addEventListener('ratechange', () => {\n      const activeIconWrapper = document.querySelectorAll(\".currSpeed\")\n      activeIconWrapper.forEach((item) => {\n        if (item.hasChildNodes()) {\n          item.firstChild?.remove()\n        }\n        if (item.getAttribute('data-id') === `speed_${this.playbackRate}`) {\n          const activeIcon = document.createElement('div');\n          activeIcon.className = styles.indicatorIcon\n          item.appendChild(activeIcon)\n        }\n      });\n      this._setting.playbackRate = this.playbackRate;\n      this.events.ratechange && this.events.ratechange();\n    })\n\n    // Showing playing time\n    this._videoEl.addEventListener('timeupdate', () => {\n      this._watchTimer.setCurrentTime(this.currentTime)\n      this._progressBar.update(this, this.currentTime)\n      this.events.timeupdate && this.events.timeupdate();\n    });\n\n    this._videoEl.addEventListener('waiting', (_) => {\n      console.log(\n        \"waitng\"\n      )\n      this._centerBtn.hide();\n      this._spinner.show()\n\n      this.events.waiting && this.events.waiting();\n    });\n\n    this._videoEl.addEventListener('abort', () => {\n      this.events.abort && this.events.abort();\n    })\n    this._videoEl.addEventListener('suspend', () => {\n      this.events.suspend && this.events.suspend();\n    })\n    this._videoEl.addEventListener('stalled', () => {\n      this.events.stalled && this.events.stalled();\n    })\n  }\n\n}\n\nexport default SkaraPlayer;\n","@font-face {\n  font-family: \"Roboto\";\n  src: url(\"../fonts/Roboto/Roboto-Regular.ttf\") format(\"truetype\");\n}\n\n:root {\n  --skaraVideoPrimaryColor: #EF4136;\n  --skaraVideoSecondaryColor: #EFFAB0;\n  --skaraVideoPopup: #1655B2;\n  --skaraVideoPopupBg: #02122A;\n  --skaraVideoOsdBg: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.8) 100%);\n  --skaraVideoToolbarBg: linear-gradient(180deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);\n\n  --bottomBarSpacing: \"8px\";\n  --playerControlMargin: \"20px\";\n  --playerCornerRadius: \"0px\";\n  --centerIconButtonCornerRadius: 50%;\n  --centerIconButtonPadding: 10px;\n  --iconButtonCornerRadius: 50%;\n  --iconButtonPadding: 10px;\n  --progressBarHeight: \"4px\";\n  --progressBarHoverScale: 1.8;\n\n  --centerIconButtonColor: red;\n  --centerIconButtonHoverColor: brown;\n  --iconButtonColor: red;\n  --iconButtonHoverColor: brown;\n  --brandColor: yellow;\n  --progressBGColor: green;\n  --progressLoadedColor: blue;\n  --settingsBGColor: violet;\n  --settingsTextColor: red;\n  --settingsHoverColor: green;\n  --tooltipTextColor: blue;\n  --tooltipBGColor: pink;\n}\n\n* {\n  padding: 0;\n  margin: 0;\n  font-weight: 500;\n  font-family: \"Roboto\";\n  border-radius: var(--playerCornerRadius);\n}\n\n.toolBar {\n  padding: var(--playerControlMargin);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  box-sizing: border-box;\n  background-image: var(--skaraVideoToolbarBg);\n  transition: all 200ms ease-out;\n  opacity: 0;\n}\n\n.title {\n  color: var(--skaraVideoSecondaryColor);\n}\n\n.osdBar {\n  position: absolute;\n  bottom: 0px;\n  left: 0;\n  background-image: var(--skaraVideoOsdBg);\n  width: 100%;\n  gap: 8px;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  padding: var(--playerControlMargin);\n  opacity: 0;\n  transition: all 200ms ease-out;\n}\n\n.innerOsd {\n  width: 100%;\n  gap: var(--bottomBarSpacing);\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  background: transparent;\n  position: relative;\n}\n\n.osdActive {\n  z-index: 14;\n  opacity: 1;\n}\n\n.scrubber {\n  position: absolute;\n  z-index: 20;\n  left: 0;\n  top: 0;\n  scale: 1.5;\n  /* transform: translate3d(-50%, -33%, 0); */\n  height: var(--progressBarHeight);\n  width: var(--progressBarHeight);\n  border-radius: 50%;\n  background-color: var(--progressLoadedColor);\n  opacity: 0;\n  transition: opacity 300ms ease-out;\n  cursor: pointer;\n  pointer-events: none;\n}\n\n.root {\n  background-color: black;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  position: relative;\n  height: 440px\n}\n\n.video {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 12\n}\n\n/* .video:hover ~ .osdBar { */\n/*   z-index: 14; */\n/*   transform: translate3d(0, 0, 0) */\n/* } */\n/**/\n/* .osdBar:hover { */\n/*   z-index: 14; */\n/*   transform: translate3d(0, 0, 0) */\n/* } */\n\n.ctrlContainer {\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.ctrlLeft {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.ctrlRight {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.prgsContainerWrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  gap: 16px;\n}\n\n.prgsContainer {\n  position: relative;\n  flex: 1;\n}\n\n.prgsWrapper {\n  height: var(--progressBarHeight);\n  background-color: var(--progressBGColor);\n  width: 100%;\n  position: relative;\n  cursor: pointer;\n  transition: transform 300ms ease-out;\n  overflow: hidden\n}\n\n.prgsBar {\n  position: absolute;\n  height: var(--progressBarHeight);\n  background-color: var(--progressLoadedColor);\n  width: 0;\n  cursor: pointer;\n  z-index: 20;\n  transition: transform 300ms ease-out;\n}\n\n\n.prgsHover {\n  position: absolute;\n  height: var(--progressBarHeight);\n  background-color: var(--progressLoadedColor);\n  opacity: 0.5;\n  width: 0;\n  cursor: pointer;\n  z-index: 10;\n  transition: transform 300ms ease-out;\n}\n\n.prgsContainer:hover .prgsWrapper {\n  transform: scale3d(1, var(--progressBarHoverScale), 1);\n}\n\n.prgsContainer:hover .prgsBar {\n  transform: scale3d(1, var(--progressBarHoverScale), 1);\n}\n\n.prgsContainer:hover .prgsHover {\n  transform: scale3d(1, var(--progressBarHoverScale), 1);\n}\n\n.prgsContainer:hover .scrubber {\n  transform: translate3d(-50%, -25%, 0);\n  width: calc(var(--progressBarHeight)*var(--progressBarHoverScale));\n  height: calc(var(--progressBarHeight)*var(--progressBarHoverScale));\n  opacity: 1;\n}\n\n.prgsContainer:active .prgsWrapper {\n  transform: scale3d(1, var(--progressBarHoverScale), 1);\n}\n\n.prgsContainer:active .prgsBar {\n  transform: scale3d(1, var(--progressBarHoverScale), 1);\n}\n\n.prgsContainer:active .prgsHover {\n  transform: scale3d(1, var(--progressBarHoverScale), 1);\n}\n\n.prgsContainer:active .scrubber {\n  /* transform: translate3d(-50%, -35%, 0);  */\n  opacity: 1;\n}\n\n\n.seekTimeTooltip {\n  position: absolute;\n  color: var(--tooltipTextColor);\n  background-color: var(--tooltipBGColor);\n  padding: 6px 12px;\n  opacity: 0;\n  text-align: center;\n  left: 0;\n  top: -48px;\n  transform: translateX(-50%);\n  transition: opacity 100ms ease-out;\n}\n\n.iconmd {\n  scale: 1.5;\n  position: absolute;\n  top: 10px;\n}\n\n.iconSmall {\n  scale: 1;\n  position: absolute;\n  top: 7px;\n}\n\n.button {\n  background-color: transparent;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 26px;\n  border-radius: 50%;\n  position: relative;\n  cursor: pointer\n}\n\n.sliderWrapper {\n  display: flex;\n  align-items: center;\n  width: 0;\n  height: 14px;\n  overflow: hidden;\n  transition: all 300ms ease-out;\n}\n\n.volSlider {\n  width: 0;\n  opacity: 0;\n  background: transparent;\n  -webkit-appearance: none;\n  appearance: none;\n  transition: all 300ms ease-out;\n  cursor: pointer;\n}\n\n/*progress support*/\n.volSlider.sliderProgress {\n  --range: calc(var(--max) - var(--min));\n  --ratio: calc((var(--value) - var(--min)) / var(--range));\n  --sx: calc(0.5 * 14px + var(--ratio) * (100% - 14px));\n}\n\n.volSlider:focus {\n  outline: none;\n}\n\n/*webkit*/\n.volSlider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  background: var(--skaraVideoPrimaryColor);\n  border: none;\n  box-shadow: none;\n  margin-top: calc(4px * 0.5 - 14px * 0.5);\n}\n\n.volSlider::-webkit-slider-runnable-track {\n  height: 4px;\n  border: none;\n  border-radius: 0;\n  background: var(--skaraVideoSecondaryColor);\n  box-shadow: none;\n}\n\n.volSlider::-webkit-slider-thumb:hover {\n  background: var(--skaraVideoPrimaryColor);\n}\n\n.volSlider:hover::-webkit-slider-runnable-track {\n  background: var(--skaraVideoSecondaryColor);\n}\n\n.volSlider::-webkit-slider-thumb:active {\n  background: var(--skaraVideoPrimaryColor);\n}\n\n.volSlider:active::-webkit-slider-runnable-track {\n  background: var(--skaraVideoSecondaryColor);\n}\n\n.volSlider.sliderProgress::-webkit-slider-runnable-track {\n  background: linear-gradient(var(--skaraVideoPrimaryColor), var(--skaraVideoPrimaryColor)) 0/var(--sx) 100% no-repeat, var(--skaraVideoSecondaryColor);\n}\n\n.volSlider.sliderProgress:hover::-webkit-slider-runnable-track {\n  background: linear-gradient(var(--skaraVideoPrimaryColor), var(--skaraVideoPrimaryColor)) 0/var(--sx) 100% no-repeat, var(--skaraVideoSecondaryColor);\n}\n\n.volSlider.sliderProgress:active::-webkit-slider-runnable-track {\n  background: linear-gradient(var(--skaraVideoPrimaryColor), var(--skaraVideoPrimaryColor)) 0/var(--sx) 100% no-repeat, var(--skaraVideoSecondaryColor);\n}\n\n/*mozilla*/\n.volSlider::-moz-range-thumb {\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  background: var(--skaraVideoPrimaryColor);\n  border: none;\n  box-shadow: none;\n}\n\n.volSlider::-moz-range-track {\n  height: 4px;\n  border: none;\n  border-radius: 0;\n  background: var(--skaraVideoSecondaryColor);\n  box-shadow: none;\n}\n\n.volSlider::-moz-range-thumb:hover {\n  background: var(--skaraVideoPrimaryColor);\n}\n\n.volSlider:hover::-moz-range-track {\n  background: var(--skaraVideoSecondaryColor);\n}\n\n.volSlider::-moz-range-thumb:active {\n  background: var(--skaraVideoPrimaryColor);\n}\n\n.volSlider:active::-moz-range-track {\n  background: var(--skaraVideoSecondaryColor);\n}\n\n.volSlider.sliderProgress::-moz-range-track {\n  background: linear-gradient(var(--skaraVideoPrimaryColor), var(--skaraVideoPrimaryColor)) 0/var(--sx) 100% no-repeat, var(--skaraVideoSecondaryColor);\n}\n\n.volSlider.sliderProgress:hover::-moz-range-track {\n  background: linear-gradient(var(--skaraVideoPrimaryColor), var(--skaraVideoPrimaryColor)) 0/var(--sx) 100% no-repeat, var(--skaraVideoSecondaryColor);\n}\n\n.volSlider.sliderProgress:active::-moz-range-track {\n  background: linear-gradient(var(--skaraVideoPrimaryColor), var(--skaraVideoPrimaryColor)) 0/var(--sx) 100% no-repeat, var(--skaraVideoSecondaryColor);\n}\n\n/*ms*/\n.volSlider::-ms-fill-upper {\n  background: transparent;\n  border-color: transparent;\n}\n\n.volSlider::-ms-fill-lower {\n  background: transparent;\n  border-color: transparent;\n}\n\n.volSlider::-ms-thumb {\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  background: var(--skaraVideoPrimaryColor);\n  border: none;\n  box-shadow: none;\n  margin-top: 0;\n  box-sizing: border-box;\n}\n\n.volSlider::-ms-track {\n  height: 4px;\n  border-radius: 0;\n  background: var(--skaraVideoSecondaryColor);\n  border: none;\n  box-shadow: none;\n  box-sizing: border-box;\n}\n\n.volSlider::-ms-thumb:hover {\n  background: var(--skaraVideoPrimaryColor);\n}\n\n.volSlider:hover::-ms-track {\n  background: var(--skaraVideoSecondaryColor);\n}\n\n.volSlider::-ms-thumb:active {\n  background: var(--skaraVideoPrimaryColor);\n}\n\n.volSlider:active::-ms-track {\n  background: var(--skaraVideoSecondaryColor);\n}\n\n.volSlider.sliderProgress::-ms-fill-lower {\n  height: 4px;\n  border-radius: 0px 0 0 0px;\n  margin: -undefined 0 -undefined -undefined;\n  background: var(--skaraVideoPrimaryColor);\n  border: none;\n  border-right-width: 0;\n}\n\n.volSlider.sliderProgress:hover::-ms-fill-lower {\n  background: var(--skaraVideoPrimaryColor);\n}\n\n.volSlider.sliderProgress:active::-ms-fill-lower {\n  background: var(--skaraVideoPrimaryColor);\n}\n\n.volCtrlWrapper {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.volCtrlWrapper:hover .volSlider {\n  width: 100%;\n  opacity: 1;\n}\n\n.volCtrlWrapper:hover .sliderWrapper {\n  width: 80px;\n}\n\n.ctrlContainer:hover .volSlider {\n  width: 100%;\n  opacity: 1;\n}\n\n.icon {\n  box-sizing: border-box;\n  background-color: var(--iconButtonColor);\n  height: 18px;\n  width: 18px;\n  padding: var(--iconButtonPadding);\n  border-radius: var(--iconButtonCornerRadius);\n}\n\n.settingWrapper {\n  z-index: -16;\n  position: absolute;\n  bottom: 140px;\n  right: 60px;\n  width: 280px;\n  max-height: 260px;\n  background-color: var(--settingsBGColor);\n  /* opacity: 0; */\n  display: none;\n  border-radius: 2px;\n  overflow: hidden;\n  -webkit-box-shadow: 0px 0px 20px 0px rgba(2, 18, 42, 0.5);\n  -moz-box-shadow: 0px 0px 20px 0px rgba(2, 18, 42, 0.5);\n  box-shadow: 0px 0px 20px 0px rgba(2, 18, 42, 0.5);\n}\n\n.settingItem {\n  padding: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: var(--settingsTextColor);\n  position: relative;\n  font-size: 16px;\n  font-weight: 400;\n  cursor: pointer;\n  transition: all 300ms ease-out;\n  border-radius: 2px;\n}\n\n.settingItem:hover {\n  background-color: var(--settingsHoverColor)\n}\n\n.settingPopup {\n  width: 295px;\n  max-height: 250px;\n  min-height: 130px;\n  overflow-y: scroll;\n  transition: all 300ms ease-out;\n}\n\n.settingPopup::-webkit-scrollbar {\n  width: 5px;\n}\n\n.settingPopup::-webkit-scrollbar-thumb {\n  border-radius: 2px;\n  background: var(--skaraVideoProgressWrapper);\n}\n\n.listItem {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: var(--settingsTextColor);\n  position: relative;\n  padding: 12px;\n  font-size: 16px;\n  font-weight: 400;\n  cursor: pointer;\n  transition: all 300ms ease-out;\n}\n\n.listItem:hover {\n  background-color: var(--settingsHoverColor)\n}\n\n.active {\n  background-color: var(--settingsHoverColor)\n}\n\n.activeIconWrapper {\n  width: 10px;\n  height: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.indicatorIcon {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: var(--skaraVideoPrimaryColor);\n}\n\n.controls {\n  box-sizing: border-box;\n  padding: var(--iconButtonPadding);\n  border-radius: var(--iconButtonCornerRadius);\n  background-color: var(--iconButtonColor);\n  height: 36px;\n  width: 36px;\n  cursor: pointer;\n}\n\n.controls:hover {\n  background-color: var(--iconButtonHoverColor);\n}\n\n\n.hide {\n  display: none\n}\n\n.spinner {\n  z-index: 100;\n  animation: 1.5s linear infinite spinn;\n  animation-play-state: inherit;\n  border: solid 5px var(--skaraVideoSecondaryColor);\n  border-bottom-color: var(--skaraVideoPrimaryColor);\n  border-radius: 50%;\n  content: \"\";\n  height: 60px;\n  width: 60px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  will-change: transform;\n}\n\n@keyframes spinn {\n  0% {\n    transform: translate3d(-50%, -50%, 0) rotate(0deg);\n  }\n\n  100% {\n    transform: translate3d(-50%, -50%, 0) rotate(360deg);\n  }\n}\n\n.centerButton {\n  box-sizing: border-box;\n  cursor: pointer;\n  height: 80px;\n  width: 80px;\n  background-color: var(--centerIconButtonColor);\n  border-radius: var(--centerIconButtonCornerRadius);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  /* transition: all 200s ease-out; */\n  padding: var(--centerIconButtonPadding);\n}\n\n.centerButton:hover {\n  background-color: var(--centerIconButtonHoverColor);\n}\n\n.centerButtonImage {\n  width: 100%;\n  height: 100%;\n  padding-left: 7%;\n}\n\n.iconButtonImage {\n  width: 100%;\n  height: 100%;\n}\n\n.watchTimer {\n  display: flex;\n  color: var(--skaraVideoSecondaryColor);\n}\n\n.rotate {\n  transform: rotate(90deg);\n  transition: transform 250ms linear;\n}\n\n\n@media only screen and (max-device-width: 1017px) {\n  .toolBar {\n    padding: 20px 30px 48px 30px;\n  }\n\n  .osdBar {\n    padding: 36px 30px 56px 30px;\n  }\n\n  .innerOsd {\n    flex-direction: column-reverse;\n    gap: 16px;\n  }\n\n  .ctrlLeft {\n    display: none;\n  }\n\n  .ctrlContainer {\n    justify-content: flex-end;\n  }\n\n  .watchTimer {\n    position: absolute;\n    top: 20%;\n    left: 0;\n  }\n\n  .controls {\n    height: 28px;\n    width: 28px;\n  }\n\n  .centerButton {\n    height: 96px;\n    width: 96px;\n  }\n\n  .settingWrapper {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate3d(-50%, -50%, 0);\n    max-width: 80%;\n    height: fit-content;\n  }\n}\n\n@media only screen and (min-device-width : 768px) and (max-device-width : 1280px) and (orientation : landscape) {\n  .toolBar {\n    padding: 20px 30px 48px 30px;\n  }\n\n  .osdBar {\n    padding: 36px 30px 64px 30px;\n  }\n\n  .innerOsd {\n    flex-direction: column-reverse;\n    gap: 24px;\n  }\n\n  .ctrlLeft {\n    display: none;\n  }\n\n  .ctrlContainer {\n    justify-content: flex-end;\n  }\n\n  .watchTimer {\n    position: absolute;\n    top: 20%;\n    left: 0;\n  }\n\n  .controls {\n    height: 32px;\n    width: 32px;\n  }\n\n  .centerButton {\n    height: 104px;\n    width: 104px;\n  }\n\n  .settingWrapper {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate3d(-50%, -50%, 0);\n    max-width: 80%;\n    height: fit-content;\n  }\n}\n\n.centerBtnShow {\n  display: block;\n  z-index: 16;\n}\n\n.centerBtnHide {\n  display: none;\n  z-index: -16;\n}","export const theme = {\n  colors: {\n    primary: \"#00b428\",\n    secondary: \"#e8dd26\",\n    centerIconButtonColor: \"green\",\n    centerIconButtonHoverColor: \"yellow\",\n    iconButtonColor: \"purple\",\n    iconButtonHoverColor: \"violet\",\n    brandColor: \"blue\",\n    progressBGColor: \"red\",\n    progressLoadedColor: \"blue\",\n    settingsBGColor: \"blue\",\n    settingsTextColor: \"red\",\n    settingsHoverColor: \"green\",\n    tooltipTextColor: \"blue\",\n    tooltipBGColor: \"pink\",\n  },\n  spacing: {\n    padding: \"6px\",\n    margin: \"20px\",\n    bottomBarSpacing: \"21px\",\n    playerControlMargin: \"20px\",\n    playerCornerRadius: \"12px\",\n    centerIconButtonCornerRadius: \"4px\",\n    centerIconButtonPadding: \"4px\",\n    iconButtonCornerRadius: \"4px\",\n    iconButtonPadding: \"4px\",\n    progressBarHeight: \"4px\",\n    progressBarHoverScale: \"1.8\"\n  }\n}\n\nexport type Theme = typeof theme;\n","import SkaraPlayer from \".\";\nconst createShortcuts = (player: SkaraPlayer): Record<string, (player: SkaraPlayer) => void> => ({\n  ArrowUp: (player) => player.incVolume(),\n  ArrowDown: (player) => player.decVolume(),\n  ArrowLeft: (player) => player.seekBackward(),\n  ArrowRight: (player) => player.seekForward(),\n  f: (player) => player.toggleFullScreen(),\n  F: (player) => player.toggleFullScreen(),\n  m: (player) => player.muted = !player.muted,\n  M: (player) => player.muted = !player.muted,\n  \" \": (player) => player.paused ? player.play() : player.pause()\n});\n\nexport const AttachKeyboardShortcuts = (player: SkaraPlayer) => {\n  const shortcuts = createShortcuts(player);\n  const shortcustHandler = (e: KeyboardEvent) => {\n    for (let key in shortcuts) {\n      if (e.key === key) shortcuts[e.key](player)\n    }\n  }\n  document.addEventListener(\"keydown\", shortcustHandler, true);\n\n  const deatachShortcut = () =>  document.removeEventListener(\"keydown\", shortcustHandler, true);\n\n  return deatachShortcut;\n}\n","// Needed for mother fucking floating point precision error in js\nexport const VOL_CF = 10;\nexport const VOL_CHANGE_STEP = .05;\nexport const SEEK_TIME_STEP = 10;\n\n\n\n","import { Controll } from \".\";\nimport SkaraPlayer, { PlayerConfig } from \"..\";\nimport { createCtrl, replaceIcon } from \"../components/play-button\";\nimport { Material } from \"../icons\";\n\nclass PlayButton implements Controll {\n  private _el: HTMLElement;\n\n  constructor(player: SkaraPlayer, config: PlayerConfig) {\n    this._el = createCtrl({ icon: Material.PlayIcon });\n    if (!config.showPlayPause) this._el.style.display = \"none\";\n    this._el.addEventListener('click', () => {\n      this.handleClick(player)\n    })\n  }\n\n  private handleClick(player: SkaraPlayer) {\n    if (player.ended) {\n      player.currentTime = 0;\n      player.play();\n      return;\n    }\n    player.paused ? player.play() : player.pause()\n  }\n\n  public addTo(el: HTMLElement) {\n    el.appendChild(this._el);\n  }\n\n  public changeIcon(icon: string) {\n    replaceIcon(this._el, icon);\n  }\n\n  public get element() {\n    return this._el;\n  }\n}\n\nexport default PlayButton;\n","import styles from \"../style.module.css\";\nexport type ControlProps = {\n  icon?: string// Path of the icon\n  text?: string\n  style?: Record<string, string | number>\n}\n\nexport const createCtrl = (cfg: ControlProps = {}) => {\n  const btn = document.createElement('div');\n  if (cfg.text) btn.textContent = cfg.text;\n  if (cfg.icon) {\n    const el = document.createElement(\"img\");\n    el.src = cfg.icon;\n    el.className = styles.iconButtonImage;\n    btn.appendChild(el)\n    // btn.style.mask = `url(${cfg.icon})`\n    // btn.style.webkitMask = `url(${cfg.icon})`\n    // btn.style.webkitMaskSize = 'contain'\n    // btn.style.webkitMaskRepeat = 'no-repeat'\n  }\n\n  if (cfg.style) {\n    btn.style.cssText = JSON.stringify(cfg.style);\n  } else {\n    btn.className = styles.controls\n  }\n  return btn;\n}\n\nexport const replaceIcon = (el: HTMLElement, icon: string) => {\n  const imgel = el.children[0] as HTMLImageElement\n  imgel.src = icon\n  // el.style.mask = `url(${icon})`\n  // el.style.webkitMask = `url(${icon})`\n  // el.style.webkitMaskSize = 'contain'\n  // el.style.webkitMaskRepeat = 'no-repeat'\n}\n","import PlayIcon from './icons/default/play_arrow.svg'\nimport PlayCircleIcon from './icons/default/play_circle.svg'\nimport PauseIcon from './icons/default/pause.svg'\nimport StopIcon from './icons/default/stop.svg'\nimport ReplayIcon from './icons/default/replay.svg'\nimport VolumeOffIcon from './icons/default/volume_off.svg'\nimport VolumeOnIcon from './icons/default/volume_up.svg'\nimport FullScreenIcon from './icons/default/fullscreen.svg'\nimport FullScreenExitIcon from './icons/default/fullscreen_exit.svg'\nimport HdIcon from './icons/default/hd.svg'\nimport HqIcon from './icons/default/high_quality.svg'\nimport TwoKIcon from './icons/default/2k.svg'\nimport FourKIcon from './icons/default/4k.svg'\nimport SettingIcon from './icons/default/settings.svg';\nimport ClosedCaptionEnabledIcon from './icons/default/closed_caption_disabled.svg';\nimport ClosedCaptionDisabledIcon from './icons/default/closed_caption_enabled.svg';\nimport TuneIcon from './icons/default/tune.svg';\nimport SlowMotionIcon from './icons/default/slow_motion_video.svg';\nimport ChevronRightIcon from './icons/default/chevron_right.svg';\nimport ChevronLeftIcon from './icons/default/chevron_left.svg';\nimport ArrowBackIcon from './icons/default/arrow_back.svg'\nimport VolumeDownIcon from './icons/default/volume_down.svg'\nimport ScrLockLandscapeIcon from './icons/default/screen_lock_landscape.svg'\nimport ScrLockRotationIcon from './icons/default/screen_lock_rotation.svg'\n\n\nexport const Material = {\n  PlayIcon, PauseIcon, StopIcon, ReplayIcon, VolumeOnIcon,\n  VolumeOffIcon, FullScreenIcon, FullScreenExitIcon,\n  HqIcon, HdIcon, TwoKIcon, FourKIcon,\n  SettingIcon, ClosedCaptionEnabledIcon, ClosedCaptionDisabledIcon,\n  TuneIcon, SlowMotionIcon, ChevronRightIcon, ChevronLeftIcon, PlayCircleIcon,\n  ArrowBackIcon, VolumeDownIcon, ScrLockLandscapeIcon, ScrLockRotationIcon\n}\n","module.exports = new __parcel__URL__(\"play_arrow.4cc4f502.svg\").toString();","module.exports = new __parcel__URL__(\"play_circle.df9c3cff.svg\").toString();","module.exports = new __parcel__URL__(\"pause.2323d772.svg\").toString();","module.exports = new __parcel__URL__(\"stop.be378618.svg\").toString();","module.exports = new __parcel__URL__(\"replay.e78d085d.svg\").toString();","module.exports = new __parcel__URL__(\"volume_off.146f15f9.svg\").toString();","module.exports = new __parcel__URL__(\"volume_up.702ad549.svg\").toString();","module.exports = new __parcel__URL__(\"fullscreen.5158f294.svg\").toString();","module.exports = new __parcel__URL__(\"fullscreen_exit.16e2ba69.svg\").toString();","module.exports = new __parcel__URL__(\"hd.29dcc5bc.svg\").toString();","module.exports = new __parcel__URL__(\"high_quality.ab0fd3d1.svg\").toString();","module.exports = new __parcel__URL__(\"2k.b0ab1062.svg\").toString();","module.exports = new __parcel__URL__(\"4k.b8adc639.svg\").toString();","module.exports = new __parcel__URL__(\"settings.139ef56d.svg\").toString();","module.exports = new __parcel__URL__(\"closed_caption_disabled.04d73fb7.svg\").toString();","module.exports = new __parcel__URL__(\"closed_caption_enabled.f30a2548.svg\").toString();","module.exports = new __parcel__URL__(\"tune.4f3ae920.svg\").toString();","module.exports = new __parcel__URL__(\"slow_motion_video.63bda835.svg\").toString();","module.exports = new __parcel__URL__(\"chevron_right.d3d6fda1.svg\").toString();","module.exports = new __parcel__URL__(\"chevron_left.98bf943f.svg\").toString();","module.exports = new __parcel__URL__(\"arrow_back.5f12e800.svg\").toString();","module.exports = new __parcel__URL__(\"volume_down.7c9c5eb5.svg\").toString();","module.exports = new __parcel__URL__(\"screen_lock_landscape.77fb5891.svg\").toString();","module.exports = new __parcel__URL__(\"screen_lock_rotation.16e1878f.svg\").toString();","import { Controll } from \".\";\nimport SkaraPlayer, { PlayerConfig } from \"..\";\nimport { createCtrl, replaceIcon } from \"../components/play-button\";\nimport { Material } from \"../icons\";\n\nclass FullSrcCtrl implements Controll {\n  private _el: HTMLElement;\n  constructor(player: SkaraPlayer, config: PlayerConfig) {\n    this._el = createCtrl({ icon: Material.FullScreenIcon });\n    if (!config.showFullscreen) this._el.style.display = \"none\";\n    this.attachListener();\n    this._el.addEventListener('click', () => {\n      this.clickHandler(player)\n    })\n  }\n\n  private attachListener() {\n    document.addEventListener('fullscreenchange', () => {\n      if (document.fullscreenElement) {\n        replaceIcon(this._el, Material.FullScreenExitIcon);\n      } else {\n        replaceIcon(this._el, Material.FullScreenIcon);\n      }\n    });\n  }\n\n  private clickHandler(player: SkaraPlayer) {\n    player.toggleFullScreen()\n  }\n\n  public get element() {\n    return this._el;\n  }\n}\n\nexport default FullSrcCtrl;\n","import { Controll } from \".\";\nimport SkaraPlayer, { PlayerConfig } from \"..\";\nimport { createCtrl, replaceIcon } from \"../components/play-button\";\nimport { VOL_CHANGE_STEP } from \"../constant\";\nimport { Material } from \"../icons\";\nimport styles from \"../style.module.css\";\n\nclass VolumeController implements Controll {\n  private _el: HTMLElement;\n  private muteCtrl: HTMLDivElement;\n  private volSlider: HTMLInputElement;\n\n  constructor(player: SkaraPlayer, config: PlayerConfig) {\n    this._el = document.createElement('div');\n    this._el.className = styles.volCtrlWrapper;\n    if (!config.showVolumeBar) this._el.style.display = \"none\";\n    this.muteCtrl = createCtrl({ icon: player.muted ? Material.VolumeOffIcon : Material.VolumeOnIcon });\n    this.volSlider = document.createElement('input')\n\n    this.muteCtrl.addEventListener('click', () => {\n      player.muted = !player.muted\n    })\n\n    this.volSlider.className = styles.volSlider;\n    this.volSlider.classList.add(styles.sliderProgress)\n    this.volSlider.type = 'range'\n    this.volSlider.min = '0';\n    this.volSlider.max = \"1\"\n    this.volSlider.step = VOL_CHANGE_STEP.toString();\n    this.volSlider.style.setProperty('--value', this.volSlider.value);\n    this.volSlider.style.setProperty('--min', this.volSlider.min == '' ? '0' : this.volSlider.min);\n    this.volSlider.style.setProperty('--max', this.volSlider.max == '' ? '1' : this.volSlider.max);\n\n    this.volSlider.addEventListener('input', (e) => {\n      this.volSlider.style.setProperty('--value', this.volSlider.value);\n      // @ts-ignore\n      player.volume = e.target.value;\n    })\n\n    const btnWrapper = document.createElement('div');\n    const sliderWrapper = document.createElement('div');\n    sliderWrapper.className = styles.sliderWrapper;\n    btnWrapper.appendChild(this.muteCtrl);\n    sliderWrapper.appendChild(this.volSlider)\n    this._el.append(btnWrapper, sliderWrapper);\n  }\n\n  public update(player: SkaraPlayer) {\n    if (player.volume === 0 || player.muted) {\n      replaceIcon(this.muteCtrl, Material.VolumeOffIcon)\n      this.volSlider.value = '0';\n      this.volSlider.style.setProperty('--value', '0');\n    } else if (player.volume > 0 && player.volume < .5) {\n      replaceIcon(this.muteCtrl, Material.VolumeDownIcon)\n      this.volSlider.value = player.volume.toString();\n      this.volSlider.style.setProperty('--value', player.volume.toString());\n    } else {\n      replaceIcon(this.muteCtrl, Material.VolumeOnIcon)\n      this.volSlider.value = player.volume.toString();\n      this.volSlider.style.setProperty('--value', player.volume.toString());\n    }\n  }\n\n  public get element() {\n    return this._el;\n  }\n}\n\nexport default VolumeController;\n","import { Controll } from \".\";\nimport styles from \"../style.module.css\";\n\ntype OsdParams = {\n  left: Controll[]\n  right: Controll[]\n}\nclass Osd implements Controll {\n  private _visibility: boolean = false;\n  private _el: HTMLElement;\n  private _innerEl: HTMLElement;\n  constructor({ left, right }: OsdParams) {\n    this._el = document.createElement('div');\n    this._el.className = styles.osdBar;\n    this._innerEl = document.createElement('div');\n    this._innerEl.className = styles.innerOsd;\n    const ctrlContainer = document.createElement('div');\n    ctrlContainer.className = styles.ctrlContainer;\n    const ctrlLeft = document.createElement('div');\n    ctrlLeft.className = styles.ctrlLeft;\n    const ctrlRight = document.createElement('div');\n    ctrlRight.className = styles.ctrlRight;\n    left.forEach(ctrl => ctrlLeft.appendChild(ctrl.element));\n    right.forEach(ctrl => ctrlRight.appendChild(ctrl.element));\n    ctrlContainer.appendChild(ctrlLeft);\n    ctrlContainer.appendChild(ctrlRight);\n    this._innerEl.appendChild(ctrlContainer);\n    this._el.appendChild(this._innerEl);\n  }\n\n  public get element() {\n    return this._el;\n  }\n\n  public get visible() {\n    return this._visibility;\n  }\n\n  public show() {\n    this._visibility = true;\n    this._el.classList.add(styles.osdActive);\n  }\n\n  public hide() {\n    this._visibility = false;\n    this._el.classList.remove(styles.osdActive);\n  }\n\n  public append(ctrl: Controll) {\n    this._innerEl.appendChild(ctrl.element);\n  }\n\n  public prepend(ctrl: Controll) {\n    this._innerEl.prepend(ctrl.element);\n  }\n}\n\nexport default Osd;\n","import { Controll } from \".\";\nimport { PlayerConfig } from \"..\";\nimport { secondsToTime } from \"../helper\";\nimport styles from '../style.module.css'\n\nclass WatchTimer implements Controll {\n  private _el: HTMLElement;\n  private durationEl: HTMLSpanElement;\n  private currTimeEl: HTMLSpanElement;\n\n  constructor(config: PlayerConfig) {\n    this._el = document.createElement('div');\n    this._el.className = styles.watchTimer;\n    if (!config.showTimestamp) this._el.style.display = \"none\";\n    this.durationEl = document.createElement('span');\n    this.durationEl.textContent = '00:00';\n    this.currTimeEl = document.createElement('span');\n    this.currTimeEl.textContent = '00:00';\n\n    this._el.append(this.currTimeEl, ' / ', this.durationEl)\n  }\n\n  public setDuration(time: number) {\n    this.durationEl.textContent = secondsToTime(time);\n  }\n\n  public setCurrentTime(time: number) {\n    this.currTimeEl.textContent = secondsToTime(time);\n  }\n\n  public get element() {\n    return this._el;\n  }\n}\n\nexport default WatchTimer;\n","\nexport const downScaler = (d: number) => (v: number) => (0 + ((100 - 0) / (d - 0)) * (v - 0))\nexport const upScaler = (d: number) => (v: number) => (0 + ((d - 0) / (100 - 0)) * (v - 0))\n\nexport function secondsToTime(e: number) {\n    const h = Math.floor(e / 3600).toString().padStart(2, '0'),\n        m = Math.floor(e % 3600 / 60).toString().padStart(2, '0'),\n        s = Math.floor(e % 60).toString().padStart(2, '0');\n\n    return Number(h) > 0 ? h + ':' + m + ':' + s : m + ':' + s;\n}\n","import { Controll } from \".\";\nimport SkaraPlayer, { PlayerConfig } from \"..\";\nimport { downScaler, secondsToTime, upScaler } from \"../helper\";\nimport styles from \"../style.module.css\";\nimport Osd from \"./osd\";\n\nclass ProgressBar implements Controll {\n  private _el: HTMLElement;\n  private wrapper: HTMLDivElement;\n  private progressEl: HTMLDivElement;\n  private scrubberEl: HTMLDivElement;\n  private hoverEl: HTMLDivElement;\n  private timeTooltipEl: HTMLDivElement\n\n  private osd: Osd;\n  private video: HTMLVideoElement;\n\n  constructor(player: SkaraPlayer, osd: Osd, video: HTMLVideoElement, config: PlayerConfig) {\n    this.osd = osd;\n    this.video = video;\n    // The whole progress bar\n    this._el = document.createElement('div');\n    this._el.className = styles.prgsContainer;\n    if (!config.showProgressBar) this._el.style.display = \"none\";\n    this.wrapper = document.createElement('div');\n    this.wrapper.className = styles.prgsWrapper;\n\n    // Shows the progess value\n    this.progressEl = document.createElement('div');\n    this.progressEl.className = styles.prgsBar\n    this.wrapper.appendChild(this.progressEl)\n    //player.setProgressBarEl(prgsBar);\n    //\n    // Scrubber \n    this.scrubberEl = document.createElement('div');\n    this.scrubberEl.className = styles.scrubber;\n    //scrubber.draggable = true\n    //player.scrubber = scrubber;\n\n\n    this.hoverEl = document.createElement('div');\n    this.hoverEl.className = styles.prgsHover;\n    this.wrapper.appendChild(this.hoverEl);\n\n    // Showing seek time tooltip\n    this.timeTooltipEl = document.createElement('div');\n    this.timeTooltipEl.className = styles.seekTimeTooltip;\n    this._el.appendChild(this.timeTooltipEl);\n\n    this._el.appendChild(this.scrubberEl);\n    this._el.appendChild(this.wrapper);\n\n    this.addEventListener(player);\n  }\n\n  private getSeekablePos(pos: number) {\n    return downScaler(this.wrapper.clientWidth)(pos);\n  }\n\n  private touchHandler(player: SkaraPlayer) {\n    this._el.addEventListener('touchmove', (e) => {\n      const touchPos = e.touches[0].clientX;\n      const seekVal = upScaler(player.duration)(this.getSeekablePos(touchPos))\n      this.scrubberEl.style.left = `${this.getSeekablePos(touchPos)}%`;\n      this.progressEl.style.width = `${this.getSeekablePos(touchPos)}%`\n      player.currentTime = seekVal\n    })\n  }\n\n  private mouseMoveHandler(e: MouseEvent) {\n    return (player: SkaraPlayer) => {\n      const touchPos = e.clientX - this.wrapper.getBoundingClientRect().left\n      const seekVal = upScaler(player.duration)(this.getSeekablePos(touchPos))\n      this.scrubberEl.style.left = `${this.getSeekablePos(touchPos)}%`;\n      this.progressEl.style.width = `${this.getSeekablePos(touchPos)}%`\n      player.currentTime = seekVal\n    }\n  }\n\n  private hoverHandler(e: MouseEvent) {\n    return (player: SkaraPlayer) => {\n      // getPrgsBarWith(val) - Reduces the progess bar with between 0-100 \n      // by downscalling it from the original width \n      // The mouse cursor position on the progress bar\n      const cursorPos = e.clientX - this.wrapper.getBoundingClientRect().left;\n      // The mouse cursor position in percentage (0-100)\n      const posInPercent = this.getSeekablePos(cursorPos < 0 ? 0 : cursorPos)\n      // 45.67 /100\n      //total duration player.player.duration\n      // The seek time value based on mouse cursor position on the progess bar \n      const seekTime = secondsToTime(player.duration * (posInPercent / 100))\n      this.timeTooltipEl.textContent = seekTime;\n      this.timeTooltipEl.style.left = `${cursorPos}px`\n      this.timeTooltipEl.style.opacity = '1'\n      this.hoverEl.style.width = `${posInPercent}%`\n\n    }\n  }\n\n  private addEventListener(player: SkaraPlayer) {\n    const handler = (e: MouseEvent) => this.mouseMoveHandler(e)(player);\n\n    this._el.addEventListener('touchmove', () => this.touchHandler(player));\n    this.wrapper.addEventListener('mousedown', () => {\n      this.video.addEventListener('mousemove', handler, true)\n      this.osd.element.addEventListener('mousemove', handler, true)\n    }, true)\n\n    this.video.addEventListener('mouseup', () => {\n      this.video.removeEventListener('mousemove', handler, true)\n      this.osd.element.removeEventListener('mousemove', handler, true)\n    })\n\n    this.osd.element.addEventListener('mouseup', () => {\n      this.osd.element.removeEventListener('mousemove', handler, true)\n      this.video.removeEventListener('mousemove', handler, true)\n    })\n    this.wrapper.addEventListener('mouseup', () => {\n      this.video.removeEventListener('mousemove', handler, true)\n      this.osd.element.addEventListener('mousemove', handler, true)\n    }, true);\n    // Seeking thingy\n    this.progressEl.addEventListener('click', (e) => {\n      const cusrsorPos = e.clientX - this.wrapper.getBoundingClientRect().left\n      const seekVal = upScaler(player.duration)(this.getSeekablePos(cusrsorPos))\n      this.scrubberEl.style.left = `${this.getSeekablePos(cusrsorPos)}%`;\n      player.currentTime = seekVal\n    });\n\n    this._el.addEventListener('click', (e) => {\n      const cusrsorPos = e.clientX - this.wrapper.getBoundingClientRect().left\n      const seekVal = upScaler(player.duration)(this.getSeekablePos(cusrsorPos))\n      this.scrubberEl.style.left = `${this.getSeekablePos(cusrsorPos)}%`;\n      player.currentTime = seekVal\n    });\n\n    this.wrapper.addEventListener('mousemove', (e) => this.hoverHandler(e)(player));\n    this.wrapper.addEventListener('mouseleave', () => {\n      this.timeTooltipEl.textContent = ''\n      this.timeTooltipEl.style.opacity = '0'\n      this.hoverEl.style.width = `0%`\n\n    });\n  }\n\n  public update(player: SkaraPlayer, time: number) {\n    this.progressEl.style.width = `${downScaler(player.duration)(time)}%`;\n    this.scrubberEl.style.left = `${downScaler(player.duration)(time)}%`;\n  }\n\n  public get element() {\n    return this._el;\n  }\n}\n\nexport default ProgressBar;\n","import Hls, { Level } from \"hls.js\";\nimport { Controll } from \".\";\nimport SkaraPlayer, { PlayerConfig } from \"..\";\nimport { createCtrl } from \"../components/play-button\";\nimport { Material } from \"../icons\";\nimport styles from \"../style.module.css\";\n\ntype CreateSettingWindowProps = {\n  player: SkaraPlayer\n  levels?: Level[]\n  hls?: Hls\n}\n\ntype SettingItemProps = {\n  text: string\n  icon: string\n  onClick: () => void\n  value?: string\n}\nclass SettingItem implements Controll {\n  private _el: HTMLElement;\n  private valueEl: HTMLDivElement;\n\n  constructor(props: SettingItemProps) {\n    this._el = document.createElement('div');\n    this._el.className = styles.settingItem;\n    const icon = document.createElement('div');\n    icon.className = styles.icon;\n    icon.style.mask = `url(${props.icon})`;\n    icon.style.webkitMask = `url(${props.icon})`;\n    icon.style.webkitMaskSize = 'contain'\n    icon.style.webkitMaskRepeat = 'no-repeat'\n\n    const levelDiv = document.createElement('div');\n    levelDiv.textContent = props.text\n\n    this.valueEl = document.createElement('div');\n    this.valueEl.textContent = props.value || \"\"\n    this.valueEl.style.fontSize = '12px';\n\n    const dv = document.createElement('div');\n    dv.style.cssText = `\n      display:flex;\n      align-items: center;\n      gap: 8px\n    `\n    dv.append(icon, levelDiv)\n\n    const moreIcon = document.createElement('div');\n    moreIcon.className = styles.icon;\n    moreIcon.style.mask = `url(${Material.ChevronRightIcon})`;\n    moreIcon.style.webkitMask = `url(${Material.ChevronRightIcon})`;\n    moreIcon.style.webkitMaskSize = 'contain'\n    moreIcon.style.webkitMaskRepeat = 'no-repeat'\n    moreIcon.style.width = '14px';\n    moreIcon.style.height = '14px';\n\n    const dv2 = document.createElement('div');\n    dv2.style.cssText = `\n      display:flex;\n      align-items: center;\n      gap: 8px\n    `\n    dv2.append(this.valueEl, moreIcon)\n\n    this._el.append(dv, dv2)\n\n    this._el.addEventListener('click', () => props.onClick())\n\n  }\n\n  public get element() {\n    return this._el\n  }\n\n  public setValue(val: string) {\n    this.valueEl.textContent = val;\n  }\n\n}\n\nclass QualityItem implements Controll {\n  private _el: HTMLDivElement;\n  private indicatorWrapper: HTMLDivElement;\n\n  constructor(props: { level: Level, id: number, onClick: () => void, setCurr?: boolean, default?: boolean }) {\n    this._el = document.createElement('div')\n    this._el.className = styles.listItem\n    this.indicatorWrapper = document.createElement('div');\n    this.indicatorWrapper.className = styles.activeIconWrapper\n    this.indicatorWrapper.classList.add(\"iconWrapper\")\n    this.indicatorWrapper.setAttribute('data-id', `quality_${props.id}`);\n    const labelNode = document.createElement('div')\n    labelNode.textContent = props.level.height + \"p\" || \"\"\n    this._el.appendChild(this.indicatorWrapper)\n    this._el.appendChild(labelNode)\n\n    props.default && this.setAsCurrent()\n\n    this._el.addEventListener('click', () => {\n      props.setCurr && this.setAsCurrent()\n      props.onClick()\n    })\n  }\n\n  public setAsCurrent() {\n    const activeIconWrapper = document.querySelectorAll(\".iconWrapper\")\n    activeIconWrapper.forEach(el => {\n      if (el.hasChildNodes()) {\n        el.firstChild?.remove()\n      }\n    })\n    const activeIcon = document.createElement('div');\n    activeIcon.className = styles.indicatorIcon\n    this.indicatorWrapper.appendChild(activeIcon)\n    // TODO: as it takes time to switch the level, we must impliment a toast message to notify\n  }\n\n  public get element() {\n    return this._el;\n  }\n}\nclass SpeedItem implements Controll {\n  private _el: HTMLDivElement;\n  private indicatorWrapper: HTMLDivElement;\n\n  constructor(props: { speed: number, onClick: () => void, setCurr?: boolean, default?: boolean }) {\n    this._el = document.createElement('div')\n    this._el.className = styles.listItem;\n    this.indicatorWrapper = document.createElement('div');\n    this.indicatorWrapper.className = styles.activeIconWrapper\n    this.indicatorWrapper.classList.add(\"currSpeed\")\n    this.indicatorWrapper.setAttribute('data-id', `speed_${props.speed}`);\n    const labelNode = document.createElement('div')\n    labelNode.textContent = props.speed.toString() || \"\"\n    this._el.appendChild(this.indicatorWrapper)\n    this._el.appendChild(labelNode)\n\n    props.default && this.setAsCurrent()\n\n\n    this._el.addEventListener('click', () => {\n      props.setCurr && this.setAsCurrent();\n      props.onClick()\n    })\n  }\n\n  public setAsCurrent() {\n    const activeIconWrapper = document.querySelectorAll(\".currSpeed\")\n    console.log(activeIconWrapper)\n    activeIconWrapper.forEach(el => {\n      console.log(el.hasChildNodes())\n      if (el.hasChildNodes()) {\n        el.firstChild?.remove()\n      }\n    })\n\n    const activeIcon = document.createElement('div');\n    activeIcon.className = styles.indicatorIcon\n    this.indicatorWrapper.appendChild(activeIcon)\n  }\n\n  public get element() {\n    return this._el;\n  }\n}\n\n\n\nclass SettingControl implements Controll {\n  public popupVisible = false;\n  private _el: HTMLElement;\n  private _innerEl: HTMLDivElement;\n  private _popupEl: HTMLElement;\n  private _settingItems: HTMLElement;\n  private _levels: QualityItem[] = [];\n  private _levelPopup: HTMLElement | undefined;\n  private _speeds: SpeedItem[] = [];\n  private _speedPopup: HTMLElement | undefined;\n\n  private lastChilds: HTMLElement[] = [];\n\n  private ctrls: Record<string, SettingItem> = {};\n  private hlsLevels: Level[] = [];\n\n  constructor(player: SkaraPlayer, config: PlayerConfig) {\n    this._popupEl = document.createElement('div');\n    this._popupEl.className = styles.settingWrapper;\n    this._settingItems = document.createElement('div');\n    this._settingItems.style.width = '100%';\n    this._innerEl = document.createElement('div');\n\n    this._el = createCtrl({ icon: Material.SettingIcon });\n    if (!config.showSettings) this._el.style.display = \"none\";\n\n    this._el.addEventListener('click', () => {\n      this.popupVisible ? this.hide() : this.show();\n    });\n\n    this.createSpeedSelector(player)\n  }\n\n  public show() {\n    if (this.popupVisible) return;\n    this.popupVisible = true;\n    this._popupEl.style.display = \"block\";\n    this._popupEl.style.zIndex = \"16\";\n  }\n\n  public hide() {\n    if (!this.popupVisible) return;\n    this.popupVisible = false;\n    this._popupEl.style.display = \"none\";\n    this._popupEl.style.zIndex = \"-16\";\n  }\n\n  public set quality(id: number) {\n    const val = this.hlsLevels[id].height + \"p\" + (this.hlsLevels[id].attrs[\"FRAME-RATE\"] || \"\");\n    this.ctrls.qltyCtrl.setValue(val);\n  }\n\n  public set playbackRate(rate: number) {\n    const val = rate === 1 ? 'Normal' : rate.toString();\n    this.ctrls.speedCtrl.setValue(val);\n  }\n\n  public createWindow({ player, levels, hls }: CreateSettingWindowProps) {\n    const speedCtrl = new SettingItem({\n      text: \"Playback speed\",\n      icon: Material.SlowMotionIcon,\n      onClick: () => {\n        this.lastChilds = this.getChild(this._popupEl);\n        this._innerEl.replaceChildren(this._speedPopup as Node);\n      },\n      value: \"Normal\"\n    });\n\n    const qltyctrl = new SettingItem({\n      text: \"Quality\",\n      icon: Material.TuneIcon,\n      onClick: () => {\n        this.lastChilds = this.getChild(this._popupEl);\n        this._innerEl.replaceChildren(this._levelPopup as Node);\n      },\n    });\n\n\n    this._settingItems.append(qltyctrl.element, speedCtrl.element);\n    this._innerEl.appendChild(this._settingItems);\n    this.ctrls.qltyCtrl = qltyctrl;\n    this.ctrls.speedCtrl = speedCtrl;\n\n    if (levels && hls) {\n      this.hlsLevels = levels;\n      this.createLevelSelector(levels, hls)\n    }\n    this._innerEl.style.position = \"relative\";\n    this._popupEl.appendChild(this._innerEl);\n\n    return this._popupEl;\n  }\n\n  private backItem(title: string) {\n    const btn = document.createElement('div')\n    btn.textContent = title;\n    btn.className = styles.listItem\n    btn.style.borderBottom = \"1px solid #8C9AAE\"\n\n    const icon = document.createElement('div')\n    icon.className = styles.icon\n    icon.style.mask = `url(${Material.ArrowBackIcon})`;\n    icon.style.webkitMask = `url(${Material.ArrowBackIcon})`;\n    icon.style.webkitMaskSize = 'contain'\n    icon.style.webkitMaskRepeat = 'no-repeat'\n\n    btn.prepend(icon)\n    btn.addEventListener('click', () => {\n      this.lastChilds = this.getChild(this._popupEl);\n      this._innerEl.replaceChildren(this._settingItems)\n    })\n\n    return btn;\n  }\n\n  public createLevelSelector(levels: Level[], hls: Hls) {\n    this._levelPopup = document.createElement('div')\n    this._levelPopup.className = styles.settingPopup\n\n    this._levels = levels.map((level, idx) => new QualityItem({\n      level,\n      id: idx,\n      onClick: () => {\n        hls.nextLevel = idx;\n        this.hide()\n        this.lastChilds = this.getChild(this._popupEl);\n        this._innerEl.replaceChildren(this._settingItems);\n        this.quality = idx\n      },\n      setCurr: true,\n      ...(idx === 0 && { default: true })\n    }));\n\n    this._levelPopup.append(...this._levels.map(l => l.element));\n    this._levelPopup.prepend(this.backItem('Quality'))\n  }\n\n  private createSpeedSelector(player: SkaraPlayer) {\n    const speeds = [.25, .5, .75, 1, 1.25, 1.5, 2];\n\n    this._speedPopup = document.createElement('div');\n    this._speedPopup.className = styles.settingPopup;\n\n    this._speeds = speeds.map(speed => new SpeedItem({\n      speed,\n      onClick: () => {\n        player.playbackRate = speed;\n        this.hide();\n        this.lastChilds = this.getChild(this._popupEl);\n        this._innerEl.replaceChildren(this._settingItems);\n      },\n      setCurr: true,\n      ...(speed === 1 && { default: true })\n    }));\n\n    this._speedPopup.append(...this._speeds.map(s => s.element));\n    this._speedPopup.prepend(this.backItem('Playback Speed'))\n  }\n\n  public get element() {\n    return this._el;\n  }\n  private getChild(el: HTMLElement) {\n    if (!el.hasChildNodes()) return [el];\n    const allChilds: Array<HTMLElement> = [];\n    const childs = el.childNodes;\n    childs.forEach(ch => {\n      allChilds.push(ch as HTMLElement);\n      if (ch.hasChildNodes()) {\n        allChilds.push(...this.getChild(ch as HTMLElement))\n      }\n    })\n    return allChilds;\n  };\n\n  public contains(el: HTMLElement) {\n    return this.lastChilds.some(node => el.isSameNode(node))\n  }\n}\n\nexport default SettingControl;\n","import styles from \"../style.module.css\"\n\nclass Spinner {\n  private visible: boolean;\n  private element: HTMLDivElement;\n  constructor() {\n    this.visible = false;\n    this.element = document.createElement(\"div\");\n    this.element.className = styles.spinner;\n    this.hide();\n  }\n\n  get() {\n    return this.element;\n  }\n  show() {\n    this.element.classList.remove(styles.hide);\n    this.visible = true;\n  };\n\n  hide() {\n    this.visible = false;\n    this.element.classList.add(styles.hide);\n  };\n\n  addTo(el: HTMLElement) {\n    el.appendChild(this.element)\n  }\n}\n\nexport default Spinner;\n","import { Controll } from \".\";\nimport SkaraPlayer, { PlayerConfig } from \"..\";\nimport { Material } from \"../icons\";\nimport styles from \"../style.module.css\";\n\nclass CenterButton implements Controll {\n  private visible: boolean;\n  private _el: HTMLElement;\n  private _iconel: HTMLImageElement;\n\n  constructor(player: SkaraPlayer, config: PlayerConfig) {\n    this.visible = false;\n    this._el = document.createElement('div');\n    this._el.className = styles.centerButton;\n    if (!config.showPlayPause) this._el.style.display = \"none\";\n    this._iconel = document.createElement('img');\n    this._iconel.src = Material.PlayIcon;\n    this._iconel.className = styles.centerButtonImage;\n    this._el.appendChild(this._iconel)\n    // this._el.style.mask = `url(${Material.PlayIcon})`;\n    // this._el.style.webkitMask = `url(${Material.PlayIcon})`;\n    // this._el.style.webkitMaskSize = 'contain';\n    // this._el.style.webkitMaskRepeat = 'no-repeat';\n\n    // this._el.addEventListener('mouseover', () => {\n    //   this._el.style.backgroundColor = config.theme?.colors?.centerIconButtonHoverColor as string;\n    // })\n\n    // this._el.addEventListener('mouseleave', () => {\n    //   this._el.style.backgroundColor = config.theme?.colors?.centerIconButtonColor as string;\n    // })\n\n    this._el.addEventListener('click', () => {\n      player.play();\n    })\n  }\n  show() {\n    this.visible = true;\n    this._el.classList.remove(styles.centerBtnHide)\n    this._el.classList.add(styles.centerBtnShow)\n  };\n\n  hide() {\n    this.visible = false;\n    this._el.classList.remove(styles.centerBtnShow)\n    this._el.classList.add(styles.centerBtnHide)\n  };\n\n  public get element() {\n    return this._el;\n  }\n\n}\n\nexport default CenterButton;\n","import { Controll } from \".\";\nimport styles from \"../style.module.css\";\nimport ProgressBar from \"./progress-bar\";\nimport WatchTimer from \"./watch-timer\";\n\nclass PrgsContainerWrapper implements Controll {\n  private _el: HTMLElement;\n  constructor(prgs: ProgressBar, timer: WatchTimer) {\n    this._el = document.createElement('div')\n    this._el.className = styles.prgsContainerWrapper\n    this._el.append(prgs.element, timer.element)\n  }\n\n  public get element() {\n    return this._el;\n  }\n}\n\nexport default PrgsContainerWrapper;\n","import { Controll } from \".\";\nimport { PlayerConfig } from \"..\";\nimport { createCtrl } from \"../components/play-button\";\nimport { Material } from \"../icons\";\nimport styles from \"../style.module.css\";\nimport FullSrcCtrl from \"./full-src-button\";\n\nclass Toolbar implements Controll {\n  private _visibility: boolean = false;\n  private _el: HTMLElement;\n  private _backBtn: HTMLElement;\n  private _title: HTMLParagraphElement\n  constructor(fullscrCtrl: FullSrcCtrl, config: PlayerConfig) {\n    this._el = document.createElement('div');\n    this._el.className = styles.toolBar;\n    if (!config.showVideoTitle) this._el.style.display = \"none\";\n    this._backBtn = createCtrl({ icon: Material.ArrowBackIcon });\n    this._backBtn.addEventListener('click', () => {\n      history.back();\n    });\n    this._title = document.createElement('p');\n    this._title.className = styles.title;\n    this._title.textContent = config.title;\n    this._el.append(this._backBtn, this._title, fullscrCtrl.element);\n  }\n\n  public show() {\n    this._visibility = true;\n    this._el.classList.add(styles.osdActive);\n  }\n\n  public hide() {\n    this._visibility = false;\n    this._el.classList.remove(styles.osdActive);\n  }\n\n  public get element() {\n    return this._el;\n  }\n\n  public get visible() {\n    return this._visibility;\n  }\n}\n\nexport default Toolbar;\n"],"names":[],"version":3,"file":"module.js.map"}